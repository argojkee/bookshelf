!function(){document.createElementNS("http://www.w3.org/2000/svg","svg");var t=document.querySelector(".container-books");null==t||t.addEventListener("click",(function(t){if(t.preventDefault(),!t.target.closest("li"))return;e.classList.toggle("hidden"),e.classList.toggle("active")}));var e=document.querySelector('[data-modal="1"]');document.querySelector(".modal-btn-close").addEventListener("click",(function(t){e.classList.toggle("hidden"),e.classList.toggle("active")}));var n="shopping-list",i={ul:document.querySelector(".shopping-list"),shoppingListIsEmptyMessage:document.querySelector(".shopping-list-is-empty-message")},s=JSON.parse(localStorage.getItem(n));function o(t){var e=t.map((function(t){var e=t.book_image,n=t.title,i=t.list_name,s=t.author,o=t.description,a=t.buy_links,l=t._id;o||(o="sorry");var r=a.filter((function(t){var e=t.name;return"Amazon"===e||"Apple Books"===e||"Bookshop"===e})).map((function(t){var e=t.name,n=t.url;return"Amazon"===e?'<li><a href="'.concat(n,'" target="_blank" rel="noopener noreferrer"><img src="./images/shopping-list/amazon.png" width="32" height="11" alt=').concat(e,"></a></li>"):"Apple Books"===e?'<li><a href="'.concat(n,'" target="_blank" rel="noopener noreferrer"><img src="./images/shopping-list/apple_books.png" width="16" height="16" alt=').concat(e,"></a></li>"):"Bookshop"===e?'<li><a href="'.concat(n,'" target="_blank" rel="noopener noreferrer"><img src="./images/shopping-list/bookshop.png" width="16" height="16" alt=').concat(e,"></a></li>"):void 0})).join("");return'<li class="shopping-list-item" data-id="'.concat(l,'">\n        <img class="shopping-list-item-img" src="').concat(e,'" width="100" height="142">\n            <div class="shopping-list-item-content-wrapper">\n                <div class="shopping-list-item-head">\n                    <div class="shopping-list-item-head-wrapper">\n                        <h3 class="shopping-list-item-title">').concat(n,'</h3>\n                        <p class="shopping-list-item-category">').concat(i,'</p>\n                    </div>\n                    <button type="button" class="shopping-list-delete-btn">\n                        <svg class="delete-btn-icon" width="16" height="16">\n                            <use href="./images/sprite.svg#icon-trash">\n                        </svg>\n                    </button>\n                </div>\n            \n\n                <p class="shopping-list-item-description">').concat(o,'</p>\n\n                <div class="shopping-list-item-bottom-wrapper">\n                    <p class="shopping-list-item-author">').concat(s,"</p>\n\n                <ul>").concat(r,"</ul>\n            </div>\n\n        </div>\n    </li>")})).join("");i.ul.innerHTML=e}s&&(i.shoppingListIsEmptyMessage.hidden=!0,o(s)),i.ul.addEventListener("click",(function(t){if("BUTTON"!==t.target.nodeName)return;var e=t.target.closest(".shopping-list-item").dataset.id,s=JSON.parse(localStorage.getItem(n)).filter((function(t){return t._id!==e}));localStorage.removeItem(n),i.shoppingListIsEmptyMessage.hidden=!1,0!==s.length&&(localStorage.setItem(n,JSON.stringify(s)),i.shoppingListIsEmptyMessage.hidden=!0);o(s)}))}();
//# sourceMappingURL=shopping.4cd01d73.js.map
