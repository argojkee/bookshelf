{"mappings":"gfAAAA,EAAA,S,iCCAA,IAQIC,EARJC,EAAAF,EAAA,SAEMG,EAAO,CACXC,UAAWC,SAASC,cAAe,uBACnCC,MAAOF,SAASC,cAAe,wBAC/BE,QAASH,SAASC,cAAe,4BAKnC,EAAAJ,EAAAO,uBACGC,MAAK,SAAAC,GACJ,IAAMC,EAAaD,EAASE,KACtBC,EAAsBF,EAa3BG,KACC,SAAAC,G,MACE,8FAEGC,OADiDD,EAASE,UAAU,gBACjDD,OAAnBD,EAASE,UAAU,kC,IAKzBC,KAAM,IArBPhB,EAAKC,UAAUgB,mBAAoB,YAAY,GAAUH,OAAPH,G,IAEnDO,OAAM,SAAAC,GACLC,QAAQD,MAAM,SAAUA,E,IAG5BnB,EAAKI,MAAMiB,UAAUC,IAAI,WAEzBtB,EAAKC,UAAUsB,iBAAkB,SAgBjC,WACEC,MAAMC,iBAEN,IAAMC,EAAiBF,MAAMG,OAEvBC,EAAeF,EAAeG,QAAQC,KAC5CV,QAAQW,IAAI,wBAAqCjB,OAAbc,IAIfI,EAHPN,EAIexB,SAAS+B,iBACpC,yBAEmBC,SAAQ,SAAAC,GACvBA,EAAKd,UAAUe,SAAS,aAC1BtC,EAAqBqC,E,IAIrBH,IAAelC,IACjBkC,EAAWX,UAAUC,IAAI,WACzBxB,EAAmBuB,UAAUgB,OAAO,YAZxC,IAAuBL,C,eChDvBjC,EAAAF,EAAA,SCCO,SAASyC,EAAqBC,GA8BnC,MA7Be,uCAyBHzB,OAzB0CyB,EACnD3B,KAAI,SAAC4B,EAASC,GACb,MAAO,aAE0D3B,OAD/D0B,EAAQzB,UACT,kEAeWD,OAfqD0B,EAAQE,MACtE9B,KAAI,SAAC+B,EAAMC,GACV,IAAIC,EAgCd,SAAuBJ,GACrB,GAAIvC,SAAS4C,gBAAgBC,YAAc,IACzC,OAAO,EACF,GACL7C,SAAS4C,gBAAgBC,YAAc,KACvC7C,SAAS4C,gBAAgBC,YAAc,KAEvC,OAAO,EACF,GAAI7C,SAAS4C,gBAAgBC,YAAc,KAChD,OAAO,C,CAzCWC,GACZ,MAAO,4BAGKlC,OAFV8B,GAAaC,EAAQ,SAAW,GACjC,4BAEkC/B,OADvB6B,EAAKM,WAAW,oDAE1BnC,OADiC6B,EAAKM,WAAW,WAIvBnC,OAH1B6B,EAAKvC,MACN,6EAG6BU,OADF6B,EAAKvC,MAAM,gDACGU,OAAZ6B,EAAKO,OAAO,wB,IAG3ClC,KAAK,IAAI,wL,IAMbA,KAAK,IAAI,Q,CDxBd,IAAMmC,EAAgBjD,SAASC,cAAc,oBASN,SAA9BiD,EAAW1C,GAClB,GAAyB,IAArBA,EAAKA,KAAK2C,OAAd,CAOA,IAAIC,EAAShB,EAAqB5B,EAAKA,MACvCyC,EAAclC,mBAAmB,YAAaqC,E,KAR9C,CAGEH,EAAclC,mBAAmB,YCsC3B,0D,ED7BV,SAASsC,EAAepC,GAEtBgC,EAAclC,mBAAmB,YC2BzB,0D,ED9CR,EAAAlB,EAAAyD,mBAAkBjD,KAAK6C,GAAYlC,MAAMqC,G","sources":["src/index.js","src/js/categoriesList.js","src/js/content.js","src/js/contentFunctions.js"],"sourcesContent":["import './js/fondImages';\nimport './js/bookMarkets';\nimport './js/sprite';\nimport './js/header';\nimport './js/categoriesList';\nimport './js/fondsList';\nimport './js/content';\nimport './js/modalBook';\nimport './js/burgerMenu';\nimport './js/loginization';\nimport './js/scrollup';\n","import { fetchCategoriesList } from '../services/books-api';\n\nconst refs = {\n  container: document.querySelector(`.all-categories-box`),\n  title: document.querySelector(`.all-categoris-title`),\n  element: document.querySelector(`.all-categoris-element`),\n};\n\nlet elementHaveCurrent;\n\nfetchCategoriesList()\n  .then(response => {\n    const categories = response.data;\n    const markup = createMarkup(categories);\n    refs.container.insertAdjacentHTML(`beforeend`, `${markup}`);\n  })\n  .catch(error => {\n    console.error('Error:', error);\n  });\n\nrefs.title.classList.add('current');\n\nrefs.container.addEventListener(`click`, showCategoryBook);\n\nfunction createMarkup(array) {\n  return array\n    .map(\n      categori =>\n        `<li class=\"all-categoris-list\">\n      <a class=\"all-categoris-element\" href=\"\" data-name=\"${categori.list_name}\"\n        >${categori.list_name}</a\n      >\n    </li>\n      `\n    )\n    .join(``);\n}\n\nfunction showCategoryBook() {\n  event.preventDefault();\n\n  const clickedElement = event.target;\n\n  const categoryName = clickedElement.dataset.name;\n  console.log(`Clicked on category: ${categoryName}`);\n  changeCurrent(clickedElement);\n}\n\nfunction changeCurrent(curentClic) {\n  const allCategoryListItems = document.querySelectorAll(\n    '.all-categoris-list a'\n  );\n  allCategoryListItems.forEach(item => {\n    if (item.classList.contains('current')) {\n      elementHaveCurrent = item;\n    }\n  });\n\n  if (curentClic !== elementHaveCurrent) {\n    curentClic.classList.add('current');\n    elementHaveCurrent.classList.remove('current');\n  }\n}\n","import { fetchToAllBooks } from '../services/books-api';\nimport { renderMarkupTopBooks, renderError } from './contentFunctions';\n\nconst containerBook = document.querySelector('.container-books');\n\ngetTopBooks();\n\nfunction getTopBooks() {\n  fetchToAllBooks().then(renderData).catch(errorfetchData);\n}\n\n//якщо дані витягуємо вдало, то кладемо їх в масив\nfunction renderData(data) {\n  if (data.data.length === 0) {\n    //немає книг, потрібно показати картинку про це');\n    let markup = renderError(data);\n    containerBook.insertAdjacentHTML('beforeend', markup);\n    return;\n  }\n\n  let markup = renderMarkupTopBooks(data.data);\n  containerBook.insertAdjacentHTML('beforeend', markup);\n}\n\n//якщо помилка, то оброблюємо помилку\nfunction errorfetchData(error) {\n  let markup = renderError(error);\n  containerBook.insertAdjacentHTML('beforeend', markup);\n}\n","//ф-ція для створення розмітки, яка видає топ книг\nexport function renderMarkupTopBooks(array) {\n  const markup = `<ul class=\"content_list_categories\">${array\n    .map((katItem, index) => {\n      return `<li><span>${\n        katItem.list_name\n      }</span><ul class=\"content_list_topBooks\" style=\"display:flex\">${katItem.books\n        .map((book, indexBook) => {\n          let count = countTopBooks(indexBook);\n          return `<li class=\"content_book  ${\n            indexBook >= count ? 'hidden' : ''\n          }\">\n          <a  href=\"${book.book_image}\" >\n          <img class=\"content__image\" src=\"${book.book_image}\" alt=\"${\n            book.title\n          }\" loading=\"lazy\" />\n          </a>\n          <p id=\"content_book_name\">${book.title}</p>\n          <p id=\"content_book_author\">${book.author}</p>\n          </li>`;\n        })\n        .join('')}</ul>\n          <div class=\"content_container_btn\">\n                <button type=\"button\" class=\"content_btnSeeMore\" action=\"submit\">SEE MORE</button>\n       </div>\n       </li>`;\n    })\n    .join('')}</ul>`;\n\n  // const btnSeeMore = document.querySelector('.content_container_btn');\n  // btnSeeMore.addEventListener('submit', handleSumitSeeMore);\n  return markup;\n}\n\nfunction handleSumitSeeMore(e) {\n  e.preventDefault();\n  // далі узнати категорію на яку клацнули\n}\n\n// визначаємо, кількість книг в одній категорії в залежності від розміру екрана\nfunction countTopBooks(index) {\n  if (document.documentElement.clientWidth < 768) {\n    return 1;\n  } else if (\n    document.documentElement.clientWidth > 767 &&\n    document.documentElement.clientWidth < 1440\n  ) {\n    return 3;\n  } else if (document.documentElement.clientWidth > 1439) {\n    return 5;\n  }\n}\n\nexport function renderError(error) {\n  return `<div class=\"content-error\">\n         ERROR\n    </div>`;\n}\n"],"names":["parcelRequire","$7f543448dd6aeee5$var$elementHaveCurrent","$bBhLo","$7f543448dd6aeee5$var$refs","container","document","querySelector","title","element","fetchCategoriesList","then","response","categories","data","markup","map","categori","concat","list_name","join","insertAdjacentHTML","catch","error","console","classList","add","addEventListener","event","preventDefault","clickedElement","target","categoryName","dataset","name","log","curentClic","querySelectorAll","forEach","item","contains","remove","$f9456e7de9e839c0$export$a32c8f81ca17acee","array","katItem","index","books","book","indexBook","count","documentElement","clientWidth","$f9456e7de9e839c0$var$countTopBooks","book_image","author","$a6329c5cb4925ffd$var$containerBook","$a6329c5cb4925ffd$var$renderData","length","markup1","$a6329c5cb4925ffd$var$errorfetchData","fetchToAllBooks"],"version":3,"file":"index.8d955e2d.js.map"}