!function(){var n="shopping-list",t={ul:document.querySelector(".shopping-list"),shoppingListIsEmptyMessage:document.querySelector(".shopping-list-is-empty-message")},e=JSON.parse(localStorage.getItem(n));function i(n){var e=n.map((function(n){var t=n.book_image,e=n.title,i=n.list_name,o=n.author,a=n.description,s=n.buy_links,r=n._id;a||(a="sorry");var p=s.filter((function(n){var t=n.name;return"Amazon"===t||"Apple Books"===t||"Bookshop"===t})).map((function(n){var t=n.name,e=n.url;return"Amazon"===t?'<li><a href="'.concat(e,'" target="_blank" rel="noopener noreferrer"><img src="./images/shopping-list/amazon.png" width="32" height="11" alt=').concat(t,"></a></li>"):"Apple Books"===t?'<li><a href="'.concat(e,'" target="_blank" rel="noopener noreferrer"><img src="./images/shopping-list/apple_books.png" width="16" height="16" alt=').concat(t,"></a></li>"):"Bookshop"===t?'<li><a href="'.concat(e,'" target="_blank" rel="noopener noreferrer"><img src="./images/shopping-list/bookshop.png" width="16" height="16" alt=').concat(t,"></a></li>"):void 0})).join("");return'<li class="shopping-list-item" data-id="'.concat(r,'">\n        <img src="').concat(t,'" width="100" height="142">\n        <div>\n            <div>\n                <h3>').concat(e,"</h3>\n                <p>").concat(i,'</p>\n                <button type="button" class="shopping-list-delete-btn">\n                    Delete\n                </button>\n            </div>\n\n            <p>').concat(a,"</p>\n\n            <div>\n                <p>").concat(o,"</p>\n\n                <ul>").concat(p,"</ul>\n            </div>\n\n        </div>\n    </li>")})).join("");t.ul.innerHTML=e}e&&(t.shoppingListIsEmptyMessage.hidden=!0,i(e)),t.ul.addEventListener("click",(function(e){if("BUTTON"!==e.target.nodeName)return;var o=e.target.closest(".shopping-list-item").dataset.id,a=JSON.parse(localStorage.getItem(n)).filter((function(n){return n._id!==o}));localStorage.removeItem(n),t.shoppingListIsEmptyMessage.hidden=!1,0!==a.length&&(localStorage.setItem(n,JSON.stringify(a)),t.shoppingListIsEmptyMessage.hidden=!0);i(a)}))}();
//# sourceMappingURL=shopping.bf7a503a.js.map
