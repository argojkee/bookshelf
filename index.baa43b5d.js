var e="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self?self:"undefined"!=typeof window?window:"undefined"!=typeof global?global:{},t={},n={},o=e.parcelRequired7c6;null==o&&((o=function(e){if(e in t)return t[e].exports;if(e in n){var o=n[e];delete n[e];var a={id:e,exports:{}};return t[e]=a,o.call(a.exports,a,a.exports),a.exports}var i=new Error("Cannot find module '"+e+"'");throw i.code="MODULE_NOT_FOUND",i}).register=function(e,t){n[e]=t},e.parcelRequired7c6=o),o("bdPuw"),o("aBTrw"),o("hjE7W"),o("bUb57");var a=o("1Xv76");o("1Xv76"),a=o("1Xv76");function i(){return document.documentElement.clientWidth<768?1:document.documentElement.clientWidth>767&&document.documentElement.clientWidth<1440?3:document.documentElement.clientWidth>1439?5:void 0}let c=i(),l="";const r=document.querySelector(".container-books");function s(){r.innerHTML="",(0,a.fetchToAllBooks)().then((e=>e)).then(u).catch(m)}function s(){(0,a.fetchToAllBooks)().then((e=>e.data)).then(u).catch(m)}function d(e,t){(0,a.fetchBooksByCategory)(t).then((e=>e.data)).then((t=>{!function(e,t){if(0===t.length)return;document.querySelector(".content_btnSeeMore");let n=function(e){let t=0,n=e.map(((e,n)=>{if(n>=c&&t<5)return t+=1,`<li id="${e._id}"class="content_book">\n                          <a  href="${e.book_image}" >\n                          <img class="content__image" src="${e.book_image}" alt="${e.title}" loading="lazy" />\n                          </a>\n                          <p id="content_book_name">${e.title}</p>\n                          <p id="content_book_author">${e.author}</p>\n                </li>`})).join("");return c+=5,n}(t);const o=e.previousElementSibling;console.log(o),e.previousElementSibling.insertAdjacentHTML("beforeend",n)}(e,t)})).catch(m)}function u(e){if(r.insertAdjacentHTML("beforeend",""),0===e.length)return;let t=` <h1 class="title-container-topBooks">Best sellers <span class="title_blue"> books </span></h1>\n  <ul class="content_list_categories">${e.map((e=>`<li class="content_categoryItem ${e.list_name}">\n      <span class="content_category">***********${e.list_name}</span>\n                <ul class="content_list_topBooks">${e.books.map(((e,t)=>{if(t<i())return`<li data-id="${e._id}" class="content_book">\n                          <a  href="${e.book_image}" >\n                          <img class="content__image" src="${e.book_image}" alt="${e.title}" loading="lazy" />\n                          </a>\n                          <p id="content_book_name">${e.title}</p>\n                          <p id="content_book_author">${e.author}</p>\n                          </li>`})).join("")}</ul>\n          \n                <button class="content_btnSeeMore" type="button" name="${e.list_name}" \n                 action="submit">SEE MORE</button>         \n          </li>`)).join("")}</ul>`;r.insertAdjacentHTML("beforeend",t)}function m(e){r.insertAdjacentHTML("beforeend",'<div class="content-error">\n         ERROR\n    </div>')}s();document.querySelector(".container-books").addEventListener("click",(function(e){if(e.preventDefault(),"button"!==e.target.type)return;e.target.name!==l&&(c=i());l=e.target.name,d(e.target,l)}));const f={container:document.querySelector(".all-categories-box"),title:document.querySelector(".all-categoris-title"),element:document.querySelector(".all-categoris-element")},g=document.querySelector(".container-books");let _;(0,a.fetchCategoriesList)().then((e=>{const t=e.data,n=t.map((e=>`<li class="all-categoris-list">\n      <a class="all-categoris-element" href="" data-name="${e.list_name}"\n        >${e.list_name}</a\n      >\n    </li>\n      `)).join("");f.container.insertAdjacentHTML("beforeend",`${n}`)})).catch((e=>{console.error("Error:",e)})),f.title.classList.add("current"),f.container.addEventListener("click",(function(){event.preventDefault();const e=event.target;if(!e.classList.contains("all-categoris-element")&&!e.classList.contains("all-categoris-title"))return;const t=e.dataset.name;console.log(`Clicked on category: ${t}`),n=e,document.querySelectorAll(".all-categoris-list a").forEach((e=>{e.classList.contains("current")&&(_=e)})),void(n!==_&&(n.classList.add("current"),_.classList.remove("current"))),"All categories"===t?s():(o=t,(0,a.fetchBooksByCategory)(o).then((e=>{console.log("Received data from server:",e.data),g.innerHTML="",function(e){const t=`<ul class="content_list_topBooks">${e.map(((e,t)=>`<li class="content_book" data-id=${e._id}>\n          <a  href="${e.book_image}" >\n          <img class="content__image" src="${e.book_image}" alt="${e.title}" loading="lazy" />\n          </a>\n          <p id="content_book_name">${e.title}</p>\n          <p id="content_book_author">${e.author}</p>\n          </li>`)).join("")}</ul>`;g.insertAdjacentHTML("beforeend",t)}(e.data)})).catch((e=>{console.error("Error:",e)})));var n;var o})),o("lTi1U"),o("enwL7"),o("kJ3qw"),o("l6875"),o("2qRC4");
//# sourceMappingURL=index.baa43b5d.js.map
