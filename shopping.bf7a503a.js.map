{"mappings":"YAEA,IAAMA,EAAc,gBAEdC,EAAO,CACTC,GAAIC,SAASC,cAAc,kBAC3BC,2BAA4BF,SAASC,cAAc,oCASjDE,EAAQC,KAAKC,MAAMC,aAAaC,QAAQV,IAS9C,SAASW,EAAaC,GAClB,IAAMC,EAASD,EAAME,KAAI,SAAAC,G,IAAEC,EAAUD,EAAVC,WAAYC,EAAKF,EAALE,MAAOC,EAASH,EAATG,UAAWC,EAAMJ,EAANI,OAAQC,EAAWL,EAAXK,YAAaC,EAASN,EAATM,UAAWC,EAAGP,EAAHO,IACjFF,IACAA,EAAc,SAGlB,IAAMG,EAAkBF,EAAUG,QAAO,SAAAC,G,IAAEC,EAAID,EAAJC,K,MAAmB,WAATA,GAA8B,gBAATA,GAAmC,aAATA,C,IAAqBZ,KAAI,SAAAW,G,IAAEC,EAAID,EAAJC,KAAMC,EAAGF,EAAHE,IACjI,MAAY,WAATD,EACQ,gBAA0IE,OAA1HD,EAAI,wHAA2HC,OAALF,EAAK,cAG9I,gBAATA,EACQ,gBAA+IE,OAA/HD,EAAI,6HAAgIC,OAALF,EAAK,cAGnJ,aAATA,EACQ,gBAA4IE,OAA5HD,EAAI,0HAA6HC,OAALF,EAAK,mBAD5J,C,IAGDG,KAAK,IAGR,MAAO,2CACKD,OADsCN,EAAI,0BAIxCM,OAHFZ,EAAW,uFAIVY,OADCX,EAAM,8BAOXW,OANIV,EAAU,+KASVU,OAHJR,EAAY,kDAKPQ,OAFDT,EAAO,gCAEUS,OAAhBL,EAAgB,yD,IAK/BM,KAAK,IAER5B,EAAKC,GAAG4B,UAAYjB,C,CAnDrBP,IACCL,EAAKI,2BAA2B0B,QAAS,EACzCpB,EAAaL,IAGjBL,EAAKC,GAAG8B,iBAAiB,SAiDzB,SAAoBC,GAChB,GAA6B,WAA1BA,EAAMC,OAAOC,SACZ,OAGJ,IAAMC,EAASH,EAAMC,OAAOG,QAAQ,uBAAuBC,QAAQC,GAG7DC,EAFQjC,KAAKC,MAAMC,aAAaC,QAAQV,IAElBwB,QAAO,SAAAC,G,OAAKA,EAAHH,MAAiBc,C,IACtD3B,aAAagC,WAAWzC,GACxBC,EAAKI,2BAA2B0B,QAAS,EAEb,IAAzBS,EAAcE,SACbjC,aAAakC,QAAQ3C,EAAaO,KAAKqC,UAAUJ,IACjDvC,EAAKI,2BAA2B0B,QAAS,GAG7CpB,EAAa6B,E","sources":["src/js/shoppingList.js"],"sourcesContent":["import axios from \"axios\";\n\nconst STORAGE_KEY = \"shopping-list\";\n\nconst refs = {\n    ul: document.querySelector(\".shopping-list\"),\n    shoppingListIsEmptyMessage: document.querySelector(\".shopping-list-is-empty-message\"),\n}\n\n\n// axios.get(`https://books-backend.p.goit.global/books/category?category=Business Books&`).then(({data}) => {\n//     console.log(data);\n//     localStorage.setItem(STORAGE_KEY, JSON.stringify(data));\n// });\n\nconst books = JSON.parse(localStorage.getItem(STORAGE_KEY));\n\nif(books) {\n    refs.shoppingListIsEmptyMessage.hidden = true;\n    createMarkup(books);\n}\n\nrefs.ul.addEventListener(\"click\", deleteItem);\n\nfunction createMarkup(books) {\n    const markup = books.map(({book_image, title, list_name, author, description, buy_links, _id}) => {\n        if(!description) {\n            description = \"sorry\";\n        }\n\n        const currentBuyLinks = buy_links.filter(({name}) => name === 'Amazon' || name === 'Apple Books' || name === 'Bookshop').map(({name, url}) => {\n            if(name === 'Amazon') {\n                return `<li><a href=\"${url}\" target=\"_blank\" rel=\"noopener noreferrer\"><img src=\"./images/shopping-list/amazon.png\" width=\"32\" height=\"11\" alt=${name}></a></li>`\n            }\n\n            if(name === 'Apple Books') {\n                return `<li><a href=\"${url}\" target=\"_blank\" rel=\"noopener noreferrer\"><img src=\"./images/shopping-list/apple_books.png\" width=\"16\" height=\"16\" alt=${name}></a></li>`\n            }\n\n            if(name === 'Bookshop') {\n                return `<li><a href=\"${url}\" target=\"_blank\" rel=\"noopener noreferrer\"><img src=\"./images/shopping-list/bookshop.png\" width=\"16\" height=\"16\" alt=${name}></a></li>`\n            }\n        }).join('');\n        \n\n        return `<li class=\"shopping-list-item\" data-id=\"${_id}\">\n        <img src=\"${book_image}\" width=\"100\" height=\"142\">\n        <div>\n            <div>\n                <h3>${title}</h3>\n                <p>${list_name}</p>\n                <button type=\"button\" class=\"shopping-list-delete-btn\">\n                    Delete\n                </button>\n            </div>\n\n            <p>${description}</p>\n\n            <div>\n                <p>${author}</p>\n\n                <ul>${currentBuyLinks}</ul>\n            </div>\n\n        </div>\n    </li>`\n    }).join('');\n\n    refs.ul.innerHTML = markup;\n}\n\nfunction deleteItem(event) {\n    if(event.target.nodeName !== \"BUTTON\") {\n        return;\n    }\n\n    const itemId = event.target.closest('.shopping-list-item').dataset.id;\n    const books = JSON.parse(localStorage.getItem(STORAGE_KEY));\n\n    const filteredBooks = books.filter(({_id}) => _id !== itemId);\n    localStorage.removeItem(STORAGE_KEY);\n    refs.shoppingListIsEmptyMessage.hidden = false;\n\n    if(filteredBooks.length !== 0) {\n        localStorage.setItem(STORAGE_KEY, JSON.stringify(filteredBooks));\n        refs.shoppingListIsEmptyMessage.hidden = true;\n    }\n\n    createMarkup(filteredBooks);\n}\n"],"names":["$0fbe84baae5e1bf4$var$STORAGE_KEY","$0fbe84baae5e1bf4$var$refs","ul","document","querySelector","shoppingListIsEmptyMessage","$0fbe84baae5e1bf4$var$books","JSON","parse","localStorage","getItem","$0fbe84baae5e1bf4$var$createMarkup","books1","markup","map","param1","book_image","title","list_name","author","description","buy_links","_id","currentBuyLinks","filter","param","name","url","concat","join","innerHTML","hidden","addEventListener","event","target","nodeName","itemId","closest","dataset","id","filteredBooks","removeItem","length","setItem","stringify"],"version":3,"file":"shopping.bf7a503a.js.map"}