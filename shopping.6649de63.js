const e={ul:document.querySelector(".shopping-list"),shoppingListIsEmptyMessage:document.querySelector(".shopping-list-is-empty-message")},t=JSON.parse(localStorage.getItem("shopping-list"));function i(t){const i=t.map((({book_image:e,title:t,list_name:i,author:n,description:s,buy_links:o,_id:p})=>{s||(s="sorry");return`<li class="shopping-list-item" data-id="${p}">\n        <img src="${e}" width="100" height="142">\n        <div>\n            <div>\n                <h3>${t}</h3>\n                <p>${i}</p>\n                <button type="button" class="shopping-list-delete-btn">\n                    Delete\n                </button>\n            </div>\n\n            <p>${s}</p>\n\n            <div>\n                <p>${n}</p>\n\n                <ul>${o.filter((({name:e})=>"Amazon"===e||"Apple Books"===e||"Bookshop"===e)).map((({name:e,url:t})=>"Amazon"===e?`<li><a href="${t}" target="_blank" rel="noopener noreferrer"><img src="./images/shopping-list/amazon.png" width="32" height="11" alt=${e}></a></li>`:"Apple Books"===e?`<li><a href="${t}" target="_blank" rel="noopener noreferrer"><img src="./images/shopping-list/apple_books.png" width="16" height="16" alt=${e}></a></li>`:"Bookshop"===e?`<li><a href="${t}" target="_blank" rel="noopener noreferrer"><img src="./images/shopping-list/bookshop.png" width="16" height="16" alt=${e}></a></li>`:void 0)).join("")}</ul>\n            </div>\n\n        </div>\n    </li>`})).join("");e.ul.innerHTML=i}t&&(e.shoppingListIsEmptyMessage.hidden=!0,i(t)),e.ul.addEventListener("click",(function(t){if("BUTTON"!==t.target.nodeName)return;const n=t.target.closest(".shopping-list-item").dataset.id,s=JSON.parse(localStorage.getItem("shopping-list")).filter((({_id:e})=>e!==n));localStorage.removeItem("shopping-list"),e.shoppingListIsEmptyMessage.hidden=!1,0!==s.length&&(localStorage.setItem("shopping-list",JSON.stringify(s)),e.shoppingListIsEmptyMessage.hidden=!0);i(s)}));
//# sourceMappingURL=shopping.6649de63.js.map
