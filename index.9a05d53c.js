var e="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self?self:"undefined"!=typeof window?window:"undefined"!=typeof global?global:{},t={},n={},o=e.parcelRequired7c6;null==o&&((o=function(e){if(e in t)return t[e].exports;if(e in n){var o=n[e];delete n[e];var a={id:e,exports:{}};return t[e]=a,o.call(a.exports,a,a.exports),a.exports}var c=new Error("Cannot find module '"+e+"'");throw c.code="MODULE_NOT_FOUND",c}).register=function(e,t){n[e]=t},e.parcelRequired7c6=o),o.register("ekb7P",(function(e,t){e.exports=new URL(o("kyEFX").resolve("5lkeA"),import.meta.url).toString()})),o("kyEFX").register(JSON.parse('{"5ZPII":"index.9a05d53c.js","5lkeA":"Books.34b8761e.png","4jukI":"shopping.bb9ff874.js"}')),o("hjE7W"),o("bUb57");var a=o("1Xv76");o("1Xv76"),a=o("1Xv76");function c(){return document.documentElement.clientWidth<768?1:document.documentElement.clientWidth>767&&document.documentElement.clientWidth<1140?3:document.documentElement.clientWidth>1139?5:void 0}let r=c(),i="";const l=document.querySelector(".container-books"),s=document.querySelector(".content");document.querySelector(".content_category");function d(){l.innerHTML="",(0,a.fetchToAllBooks)().then((e=>e.data)).then(m).catch(g)}function u(e,t){(0,a.fetchBooksByCategory)(t).then((e=>e.data)).then((t=>{!function(e,t){if(0===t.length)return;document.querySelector(".content_btnSeeMore");let n=function(e,t){let n=0,o=t.map(((o,a)=>{if(a>=r&&n<5)return n+=1,a+1===t.length&&function(e){e.classList.add("hidden")}(e),`<li id="${o._id}"class="content_book">\n                          <a  href="${o.book_image}" >\n                          <img class="content__image" src="${o.book_image}" alt="${o.title}" loading="lazy" />\n                          </a>\n                          <span class="content_textname"><p id="content_book_name">${o.title}</p></span>\n                          <span class="content_textauthor"><p id="content_book_author">${o.author}</p></span>\n                </li>`})).join("");return r+=5,console.log(),o}(e,t);e.previousElementSibling;e.previousElementSibling.insertAdjacentHTML("beforeend",n)}(e,t)})).catch()}function m(e){if(l.insertAdjacentHTML("beforeend",""),l.innerHTML="",console.log("!!!!!!!!!!!!!!!!!"),0===e.length)return;let t=` <h1 class="title-container-topBooks"><span class="title_theme">Best sellers</span> <span class="title_blue"> books </span></h1>\n  <ul class="content_list_categories">${e.map((e=>`<li class="content_categoryItem ${e.list_name}">\n      <span class="content_category">${e.list_name}</span>\n                <ul class="content_list_topBooks">${e.books.map(((e,t)=>{if(t<c())return`<li class="content_book">\n                          <a data-id=${e._id} href="${e.book_image}" >\n                          <img class="content__image" src="${e.book_image}" alt="${e.title}" loading="lazy" />\n                         \n                          <span class="content_textname"><p id="content_book_name">${e.title}</p><span>\n                          <span class="content_textauthor"><p id="content_book_author">${e.author}</p>\n                           </a>\n                          </li>`})).join("")}</ul>\n          \n                <button class="content_btnSeeMore" type="button" name="${e.list_name}" \n                 action="submit">SEE MORE</button>         \n          </li>`)).join("")}</ul>`;l.innerHTML=t}function g(e){console.log("sdasda");let t=`<div class="content-error">\n              <img\n              src="${path}"\n              alt="error"\n              width="400"\n              height="400"\n              class="content_imgError"/>\n         </div>`;s.innerHTML=t}l.innerHTML=`<div class="content-error"> \n              <img \n              src="${o("ekb7P")}"\n              alt="error"\n              class="content_imgError"/>\n         </div>`,d();document.querySelector(".container-books").addEventListener("click",(function(e){if(e.preventDefault(),"button"!==e.target.type)return;e.target.name!==i&&(r=c());i=e.target.name,u(e.target,i)}));const _={container:document.querySelector(".all-categories-box"),title:document.querySelector(".all-categoris-title"),element:document.querySelector(".all-categoris-element")},p=document.querySelector(".container-books");let f;(0,a.fetchCategoriesList)().then((e=>{const t=e.data,n=t.map((e=>`<li class="all-categoris-list">\n      <a class="all-categoris-element" href="" data-name="${e.list_name}"\n        >${e.list_name}</a\n      >\n    </li>\n      `)).join("");_.container.insertAdjacentHTML("beforeend",`${n}`)})).catch((e=>{console.error("Error:",e)})),_.title.classList.add("current"),_.container.addEventListener("click",(function(){event.preventDefault();const e=event.target;if(!e.classList.contains("all-categoris-element")&&!e.classList.contains("all-categoris-title"))return;const t=e.dataset.name;console.log(`Clicked on category: ${t}`),n=e,document.querySelectorAll(".all-categoris-list a").forEach((e=>{e.classList.contains("current")&&(f=e)})),void(n!==f&&(n.classList.add("current"),f.classList.remove("current"))),"All categories"===t?d():(o=t,(0,a.fetchBooksByCategory)(o).then((e=>{console.log("Received data from server:",e.data),p.innerHTML="",function(e){const t=`<ul class="content_list_topBooks">${e.map(((e,t)=>`<li class="content_book" data-id=${e._id}>\n          <a  href="${e.book_image}" >\n          <img class="content__image" src="${e.book_image}" alt="${e.title}" loading="lazy" />\n          </a>\n          <p id="content_book_name">${e.title}</p>\n          <p id="content_book_author">${e.author}</p>\n          </li>`)).join("")}</ul>`;p.insertAdjacentHTML("beforeend",t)}(e.data)})).catch((e=>{console.error("Error:",e)})));var n;var o})),o("lTi1U"),o("7Jfzs"),o("enwL7"),o("kJ3qw"),o("l6875"),o("2qRC4");
//# sourceMappingURL=index.9a05d53c.js.map
