{"mappings":"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","sources":["node_modules/@parcel/runtime-js/lib/runtime-5c7aa95dc5ab94fa.js","node_modules/@parcel/runtime-js/lib/runtime-a8c1e9d81aa4c8ab.js","src/index.js","src/js/categoriesList.js","src/js/content.js","src/js/contentFunctions.js","src/js/addUserPhoto.js"],"sourcesContent":["module.exports = new __parcel__URL__(require('./helpers/bundle-manifest').resolve(\"5lkeA\")).toString();","require('./helpers/bundle-manifest').register(JSON.parse(\"{\\\"5ZPII\\\":\\\"index.cf1454f8.js\\\",\\\"5lkeA\\\":\\\"Books.34b8761e.png\\\",\\\"4jukI\\\":\\\"shopping.cd10791f.js\\\"}\"));","import './js/sprite';\nimport './js/header';\nimport './js/categoriesList';\nimport './js/fondsList';\nimport './js/slick-slider';\nimport './js/content';\nimport './js/modalBook';\nimport './js/burgerMenu';\nimport './js/addUserPhoto';\nimport './js/loginization';\nimport './js/scrollup';\n","import { fetchCategoriesList } from '../services/books-api';\n\nimport { fetchBooksByCategory } from '../services/books-api';\n\n// імпорт функції, що рендерить розміттку по 5 книг бесцелеров\nimport { getTopBooks } from './content';\n\nconst refs = {\n  container: document.querySelector(`.all-categories-box`),\n  title: document.querySelector(`.all-categoris-title`),\n  element: document.querySelector(`.all-categoris-element`),\n  booksContainer: document.querySelector('.container-books'),\n  categoriesList: document.querySelector('.all-categories-container'),\n};\n\n// визначаю місе куди буде рендериться розмітка кник відповідної категорії\nconst containerBook = document.querySelector('.container-books');\n\nlet elementHaveCurrent;\n\nfetchCategoriesList()\n  .then(response => {\n    const categories = response.data;\n    const markup = createMarkup(categories);\n    refs.container.insertAdjacentHTML(`beforeend`, `${markup}`);\n  })\n  .catch(error => {\n    console.error('Error:', error);\n  });\n\nrefs.title.classList.add('current');\n\nrefs.container.addEventListener(`click`, showCategoryBook);\n\nfunction createMarkup(array) {\n  return array\n    .map(\n      categori =>\n        `<li class=\"all-categoris-list\">\n      <a class=\"all-categoris-element\" href=\"\" data-name=\"${categori.list_name}\"\n        >${categori.list_name}</a\n      >\n    </li>\n      `\n    )\n    .join(``);\n}\n\nfunction showCategoryBook() {\n  event.preventDefault();\n\n  const clickedElement = event.target;\n\n  if (\n    !clickedElement.classList.contains('all-categoris-element') &&\n    !clickedElement.classList.contains('all-categoris-title')\n  ) {\n    return;\n  }\n\n  const categoryName = clickedElement.dataset.name;\n\n  changeCurrent(clickedElement);\n\n  // якщо вибрано категорію `All categories`\n  // рендеряться всі книги\n  if (categoryName === `All categories`) {\n    getTopBooks();\n  }\n  // якщо вибрана категорія то рендериться\n  // розмітка всіх книг відповідної категорії\n  else {\n    refs.booksContainer.innerHTML = '';\n    refs.categoriesList.classList.add('lock-click-categories');\n    refs.booksContainer.classList.add('content-loader');\n    getBooksFromCategories(categoryName);\n  }\n}\n\nfunction changeCurrent(curentClic) {\n  const allCategoryListItems = document.querySelectorAll(\n    '.all-categoris-list a'\n  );\n  allCategoryListItems.forEach(item => {\n    if (item.classList.contains('current')) {\n      elementHaveCurrent = item;\n    }\n  });\n\n  if (curentClic !== elementHaveCurrent) {\n    curentClic.classList.add('current');\n    elementHaveCurrent.classList.remove('current');\n  }\n}\n\nfunction getBooksFromCategories(category) {\n  fetchBooksByCategory(category)\n    .then(response => {\n      console.log('Received data from server:', response.data);\n\n      refs.booksContainer.classList.remove('content-loader');\n      renderDataBooks(response.data, category);\n      refs.categoriesList.classList.remove('lock-click-categories');\n    })\n    .catch(error => {\n      console.error('Error:', error);\n    });\n}\n\nfunction renderDataBooks(booksData, categoriBooks) {\n  const words = categoriBooks.split(' ');\n  const firstPart = words.slice(0, -1).join(' ');\n  const secondPart = words[words.length - 1];\n\n  const markupCategori = `<h1 class=\"title-container-topBooks\">\n    <span class=\"title_theme\">${firstPart}</span>\n    <span class=\"title_blue\">${secondPart}</span></h1>`;\n\n  const markup = booksData\n    .map((book, indexBook) => {\n      return `<li class=\"content_book\" data-id=${book._id}>\n            <a data-id=${book._id} href=\"${book.book_image}\" >\n         <img class=\"content__image\" src=\"${book.book_image}\" alt=\"${book.title}\" loading=\"lazy\" />\n         \n           <span class=\"content_textname\" id=\"content_book_name\">${book.title}</span>\n           <span class=\"content_textauthor\" id=\"content_book_name\">${book.author}</span>\n            </a>\n          </li>`;\n    })\n    .join('');\n  const markupList = `${markupCategori}<ul class=\"content_list_topBooks\">${markup}</ul>`;\n  containerBook.insertAdjacentHTML('beforeend', markupList);\n}\n","import Notiflix from 'notiflix';\nimport { fetchToAllBooks, fetchBooksByCategory } from '../services/books-api';\nimport { renderMarkupTopBooks, countTopBooks } from './contentFunctions';\n\n//кі-сть загружених книг однієї категорії після того, як користувач натиснув на кнопку SEEMORE\nlet numberOfBooksShown = countTopBooks();\nconst HowManyBooksToLoad = 5;\n\nconst categoriesList = document.querySelector('.all-categories-container');\nconst spanLoader = document.querySelector('content_loadBooks');\nconst containerBook = document.querySelector('.container-books');\nconst content = document.querySelector('.content');\ncontainerBook.innerHTML = `<div class=\"content-error\"> \n              <img \n              src=\"${require('../images/shopping-list/Books.png')}\"\n              alt=\"error\"\n              class=\"content_imgError\"/>\n         </div>`;\n\ngetTopBooks();\n\nexport function getTopBooks() {\n  categoriesList.classList.add('lock-click-categories');\n  containerBook.innerHTML = '';\n  content.classList.add('content-loader');\n\n  fetchToAllBooks()\n    .then(result => {\n      return result.data;\n    })\n    .then(data => {\n      content.classList.remove('content-loader');\n      containerBook.innerHTML = renderMarkupTopBooks(data);\n      categoriesList.classList.remove('lock-click-categories');\n    });\n}\n\nfunction getBooksByCat(butElem) {\n  // spanLoader.classList.add('content_loaderBTN');\n  fetchBooksByCategory(butElem.name)\n    .then(result => {\n      butElem.classList.remove('loader');\n      return result.data;\n    })\n    .then(data => {\n      renderDataBycat(butElem, data);\n      butElem.innerHTML = 'SEE MORE';\n    })\n    .catch();\n}\n\n//ф-ція оброблює дані по конкретній категорії - малює розмітку та вставляє її перед кнопкой\nexport function renderDataBycat(butElem, data) {\n  let markup = createMarkupOfBooksOneCategory(butElem, data);\n  butElem.previousElementSibling.insertAdjacentHTML('beforeend', markup);\n}\n\nconst containerBooks = document.querySelector('.container-books');\ncontainerBooks.addEventListener('click', handleSumitSeeMore);\n\nfunction handleSumitSeeMore(e) {\n  e.preventDefault();\n  if (e.target.type !== 'button') {\n    return;\n  }\n  getBooksByCat(e.target);\n}\n\nfunction hiddenBtnSeeMore(elem) {\n  elem.classList.add('hidden');\n}\n\n//ф-ція малює розмітку з книгами однієї категорії\nfunction createMarkupOfBooksOneCategory(elem, arrayBooks) {\n  let markup = arrayBooks\n    .map((book, index) => {\n      if (index >= numberOfBooksShown) {\n        //якщо загрузили останню книгу, то видаляємо кнопку\n        if (index + 1 === arrayBooks.length) {\n          hiddenBtnSeeMore(elem);\n          //якщо категорії не закінчились, то не робимо анімацію для зголовка\n          //наступної категорії, т к їїнемає\n          if (elem.parentNode.nextSibling != null) {\n            elem.parentNode.nextSibling.firstElementChild.classList.add(\n              'contend_categoryMove'\n            );\n          }\n\n          Notiflix.Notify.info('this is all. Check out other category books');\n        }\n\n        return `<li class=\"content_book\">\n                          <a data-id=${book._id} href=\"${book.book_image}\" class=\"content-book-link\" >\n                          <img class=\"content__image\" src=\"${book.book_image}\" alt=\"${book.title}\" loading=\"lazy\" />\n                          \n                          <span class=\"content_textname\" id=\"content_book_name\">${book.title}</span>\n                          <span class=\"content_textauthor\" id=\"content_book_author\">${book.author}</span>\n                          </a>\n                </li>`;\n      }\n    })\n    .join('');\n  return markup;\n}\n\n//налаштування для Notflix\nNotiflix.Notify.init({\n  width: '480px',\n  position: 'right-bottom',\n  distance: '10px',\n  opacity: 1,\n  fontSize: '20px',\n  clickToClose: true,\n  timeout: 3000,\n  background: '#4f2ee8',\n});\n","//ф-ція для створення розмітки, яка видає топ книг\nexport function renderMarkupTopBooks(array) {\n  const markup = ` <h1 class=\"title-container-topBooks\"><span class=\"title_theme\">Best sellers</span> <span class=\"title_blue\"> books </span></h1>\n  <ul class=\"content_list_categories\">${array\n    .map(kategory => {\n      return `<li class=\"content_categoryItem ${kategory.list_name}\">\n      <span class=\"content_category\">${kategory.list_name}</span>\n                <ul class=\"content_list_topBooks\">${kategory.books\n                  .map((book, indexBook) => {\n                    if (indexBook < countTopBooks()) {\n                      return `<li class=\"content_book\">\n                          <a data-id=${book._id} href=\"${book.book_image}\"  class=\"content-book-link\" >\n                        \n                          <img class=\"content__image\" src=\"${book.book_image}\" alt=\"${book.title}\" loading=\"lazy\" />\n                         \n                         <span class=\"content_textname\" id=\"content_book_name\">${book.title}</span>\n                         <span class=\"content_textauthor\" id=\"content_book_name\">${book.author}</span>\n                           </a>\n                          </li>`;\n                    }\n                  })\n                  .join('')}</ul>\n          \n               \n                <button class=\"content_btnSeeMore\"\n                        type=\"button\"\n                        name=\"${kategory.list_name}\" \n                        action=\"submit\">SEE MORE\n                </button>                                                    \n          </li>`;\n    })\n    .join('')}</ul>`;\n  return markup;\n}\n\n// ф-ція приймає книги однієї категорії з бєкенду, вертає масив з книгами цієї категорії\nexport function arrayBooksByCategory(array) {\n  return (books = array.map(book => {\n    return book;\n  }));\n}\n\n// визначаємо, кількість книг в одній категорії в залежності від розміру екрана\nexport function countTopBooks() {\n  if (document.documentElement.clientWidth < 768) {\n    return 1;\n  } else if (\n    document.documentElement.clientWidth > 767 &&\n    document.documentElement.clientWidth < 1140\n  ) {\n    return 3;\n  } else if (document.documentElement.clientWidth > 1139) {\n    return 5;\n  }\n}\n\n// export function renderError(error) {\n//   return `<div class=\"content-error\">\n//          ERROR\n//     </div>`;\n// }\nexport function renderError() {\n  return `<div class=\"content-error\">\n              <img\n              src=\"${path}\"\n              alt=\"error\"\n              width=\"400\"\n              height=\"400\"\n              class=\"content_imgError\"/>\n         </div>`;\n  // document.querySelector('.container-books').innerHTML = 'jasjdaj';\n}\n","// function updateLabel() {\n//   var myLabel = document.getElementById('myLabel');\n//   myLabel.innerHTML = 'Новый текст';\n//   var event = new Event('click');\n//   myLabel.dispatchEvent(event);\n// }\n\n//  <button onclick=\"updateLabel()\">Нажми меня</button>\n//  <label id=\"myLabel\" onclick=\"alert('Метка нажата')\">Исходный текст</label>\n\nconst labelHeader = document.querySelector('.add-photo-label-header');\nconst addPhotoHeader = document.querySelector('.header-add-photo');\nconst labelBurger = document.querySelector('.add-photo-label');\nconst addPhotoBurger = document.querySelector('.photo-burger-btn');\n\naddPhotoHeader.addEventListener('click', simulateClickOnHeaderLabel);\naddPhotoBurger.addEventListener('click', simulateClickOnBurgerLabel);\n\nfunction simulateClickOnHeaderLabel() {\n  const event = new MouseEvent('click', {\n    view: window,\n    bubbles: true,\n    cancelable: true,\n  });\n  labelHeader.dispatchEvent(event);\n}\n\nfunction simulateClickOnBurgerLabel() {\n  const event = new MouseEvent('click', {\n    view: window,\n    bubbles: true,\n    cancelable: true,\n  });\n  labelBurger.dispatchEvent(event);\n}\n"],"names":["module","exports","URL","parcelRequire","resolve","import","meta","url","toString","register","JSON","parse","$1Xv76","$7Y9D8","$5cf1eb56275d3cb8$export$e75d099adf0bbcb7","document","documentElement","clientWidth","$c0508c5db07a4ed5$var$numberOfBooksShown","$c0508c5db07a4ed5$var$categoriesList","querySelector","$c0508c5db07a4ed5$var$containerBook","$c0508c5db07a4ed5$var$content","$c0508c5db07a4ed5$export$3a1253a897925caa","classList","add","innerHTML","fetchToAllBooks","then","result","data","remove","map","kategory","list_name","books","book","indexBook","_id","book_image","title","author","join","$c0508c5db07a4ed5$var$getBooksByCat","butElem","fetchBooksByCategory","name","markup","elem","arrayBooks","index","length","$c0508c5db07a4ed5$var$hiddenBtnSeeMore","parentNode","nextSibling","firstElementChild","$parcel$interopDefault","Notify","info","previousElementSibling","insertAdjacentHTML","$c0508c5db07a4ed5$export$eda316e6c8ba7b5f","catch","addEventListener","e","preventDefault","target","type","init","width","position","distance","opacity","fontSize","clickToClose","timeout","background","$852957c2b5c37805$var$refs","container","element","booksContainer","categoriesList","$852957c2b5c37805$var$containerBook","$852957c2b5c37805$var$elementHaveCurrent","fetchCategoriesList","response","categories","categori","error","console","event","clickedElement","contains","categoryName","dataset","curentClic","querySelectorAll","forEach","item","category","log","booksData","categoriBooks","words","split","firstPart","slice","secondPart","markupCategori","markupList","$852957c2b5c37805$var$renderDataBooks","$7e975a4153f1487c$var$labelHeader","$7e975a4153f1487c$var$addPhotoHeader","$7e975a4153f1487c$var$labelBurger","$7e975a4153f1487c$var$addPhotoBurger","MouseEvent","view","window","bubbles","cancelable","dispatchEvent"],"version":3,"file":"index.cf1454f8.js.map"}