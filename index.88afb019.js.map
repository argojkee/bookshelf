{"mappings":"gfAAAA,EAAA,S,4CCAA,IAAAC,EAAAD,EAAA,SCCO,SAASE,EAAqBC,GA8BnC,MA7Be,uCAyBHC,OAzB0CD,EACnDE,KAAI,SAACC,EAASC,GACb,MAAO,aAE0DH,OAD/DE,EAAQE,UACT,kEAeWJ,OAfqDE,EAAQG,MACtEJ,KAAI,SAACK,EAAMC,GACV,IAAIC,EAgCd,SAAuBL,GACrB,GAAIM,SAASC,gBAAgBC,YAAc,IACzC,OAAO,EACF,GACLF,SAASC,gBAAgBC,YAAc,KACvCF,SAASC,gBAAgBC,YAAc,KAEvC,OAAO,EACF,GAAIF,SAASC,gBAAgBC,YAAc,KAChD,OAAO,C,CAzCWC,GACZ,MAAO,4BAGKZ,OAFVO,GAAaC,EAAQ,SAAW,GACjC,4BAEkCR,OADvBM,EAAKO,WAAW,oDAE1Bb,OADiCM,EAAKO,WAAW,WAIvBb,OAH1BM,EAAKQ,MACN,6EAG6Bd,OADFM,EAAKQ,MAAM,gDACGd,OAAZM,EAAKS,OAAO,wB,IAG3CC,KAAK,IAAI,wL,IAMbA,KAAK,IAAI,Q,CDxBd,IAAMC,EAAgBR,SAASS,cAAc,oBASN,SAA9BC,EAAWC,GAClB,GAAyB,IAArBA,EAAKA,KAAKC,OAAd,CAOA,IAAIC,EAASxB,EAAqBsB,EAAKA,MACvCH,EAAcM,mBAAmB,YAAaD,E,KAR9C,CAGEL,EAAcM,mBAAmB,YCsC3B,0D,ED7BV,SAASC,EAAeC,GAEtBR,EAAcM,mBAAmB,YC2BzB,0D,ED9CR,EAAA1B,EAAA6B,mBAAkBC,KAAKR,GAAYS,MAAMJ,G","sources":["src/index.js","src/js/content.js","src/js/contentFunctions.js"],"sourcesContent":["import './js/fondImages';\nimport './js/bookMarkets';\nimport './js/sprite';\nimport './js/header';\nimport './js/categoriesList';\nimport './js/fondsList';\nimport './js/content';\nimport './js/modalBook';\nimport './js/burgerMenu';\nimport './js/loginization';\nimport './js/scrollup';\n","import { fetchToAllBooks } from '../services/books-api';\nimport { renderMarkupTopBooks, renderError } from './contentFunctions';\n\nconst containerBook = document.querySelector('.container-books');\n\ngetTopBooks();\n\nfunction getTopBooks() {\n  fetchToAllBooks().then(renderData).catch(errorfetchData);\n}\n\n//якщо дані витягуємо вдало, то кладемо їх в масив\nfunction renderData(data) {\n  if (data.data.length === 0) {\n    //немає книг, потрібно показати картинку про це');\n    let markup = renderError(data);\n    containerBook.insertAdjacentHTML('beforeend', markup);\n    return;\n  }\n\n  let markup = renderMarkupTopBooks(data.data);\n  containerBook.insertAdjacentHTML('beforeend', markup);\n}\n\n//якщо помилка, то оброблюємо помилку\nfunction errorfetchData(error) {\n  let markup = renderError(error);\n  containerBook.insertAdjacentHTML('beforeend', markup);\n}\n","//ф-ція для створення розмітки, яка видає топ книг\nexport function renderMarkupTopBooks(array) {\n  const markup = `<ul class=\"content_list_categories\">${array\n    .map((katItem, index) => {\n      return `<li><span>${\n        katItem.list_name\n      }</span><ul class=\"content_list_topBooks\" style=\"display:flex\">${katItem.books\n        .map((book, indexBook) => {\n          let count = countTopBooks(indexBook);\n          return `<li class=\"content_book  ${\n            indexBook >= count ? 'hidden' : ''\n          }\">\n          <a  href=\"${book.book_image}\" >\n          <img class=\"content__image\" src=\"${book.book_image}\" alt=\"${\n            book.title\n          }\" loading=\"lazy\" />\n          </a>\n          <p id=\"content_book_name\">${book.title}</p>\n          <p id=\"content_book_author\">${book.author}</p>\n          </li>`;\n        })\n        .join('')}</ul>\n          <div class=\"content_container_btn\">\n                <button type=\"button\" class=\"content_btnSeeMore\" action=\"submit\">SEE MORE</button>\n       </div>\n       </li>`;\n    })\n    .join('')}</ul>`;\n\n  // const btnSeeMore = document.querySelector('.content_container_btn');\n  // btnSeeMore.addEventListener('submit', handleSumitSeeMore);\n  return markup;\n}\n\nfunction handleSumitSeeMore(e) {\n  e.preventDefault();\n  // далі узнати категорію на яку клацнули\n}\n\n// визначаємо, кількість книг в одній категорії в залежності від розміру екрана\nfunction countTopBooks(index) {\n  if (document.documentElement.clientWidth < 768) {\n    return 1;\n  } else if (\n    document.documentElement.clientWidth > 767 &&\n    document.documentElement.clientWidth < 1440\n  ) {\n    return 3;\n  } else if (document.documentElement.clientWidth > 1439) {\n    return 5;\n  }\n}\n\nexport function renderError(error) {\n  return `<div class=\"content-error\">\n         ERROR\n    </div>`;\n}\n"],"names":["parcelRequire","$bBhLo","$f9456e7de9e839c0$export$a32c8f81ca17acee","array","concat","map","katItem","index","list_name","books","book","indexBook","count","document","documentElement","clientWidth","$f9456e7de9e839c0$var$countTopBooks","book_image","title","author","join","$a6329c5cb4925ffd$var$containerBook","querySelector","$a6329c5cb4925ffd$var$renderData","data","length","markup1","insertAdjacentHTML","$a6329c5cb4925ffd$var$errorfetchData","error","fetchToAllBooks","then","catch"],"version":3,"file":"index.88afb019.js.map"}