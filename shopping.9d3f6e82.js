document.createElementNS("http://www.w3.org/2000/svg","svg");const e=document.querySelector(".container-books");null==e||e.addEventListener("click",(function(e){if(e.preventDefault(),!e.target.closest("li"))return;t.classList.toggle("hidden"),t.classList.toggle("active")}));const t=document.querySelector('[data-modal="1"]');document.querySelector(".modal-btn-close").addEventListener("click",(function(e){t.classList.toggle("hidden"),t.classList.toggle("active")}));const s={ul:document.querySelector(".shopping-list"),shoppingListIsEmptyMessage:document.querySelector(".shopping-list-is-empty-message")},i=JSON.parse(localStorage.getItem("shopping-list"));function n(e){const t=e.map((({book_image:e,title:t,list_name:s,author:i,description:n,buy_links:o,_id:l})=>{n||(n="sorry");return`<li class="shopping-list-item" data-id="${l}">\n        <img class="shopping-list-item-img" src="${e}" width="100" height="142">\n            <div class="shopping-list-item-content-wrapper">\n                <div class="shopping-list-item-head">\n                    <div class="shopping-list-item-head-wrapper">\n                        <h3 class="shopping-list-item-title">${t}</h3>\n                        <p class="shopping-list-item-category">${s}</p>\n                    </div>\n                    <button type="button" class="shopping-list-delete-btn">\n                        <svg class="delete-btn-icon" width="16" height="16">\n                            <use href="./images/sprite.svg#icon-trash">\n                        </svg>\n                    </button>\n                </div>\n            \n\n                <p class="shopping-list-item-description">${n}</p>\n\n                <div class="shopping-list-item-bottom-wrapper">\n                    <p class="shopping-list-item-author">${i}</p>\n\n                <ul>${o.filter((({name:e})=>"Amazon"===e||"Apple Books"===e||"Bookshop"===e)).map((({name:e,url:t})=>"Amazon"===e?`<li><a href="${t}" target="_blank" rel="noopener noreferrer"><img src="./images/shopping-list/amazon.png" width="32" height="11" alt=${e}></a></li>`:"Apple Books"===e?`<li><a href="${t}" target="_blank" rel="noopener noreferrer"><img src="./images/shopping-list/apple_books.png" width="16" height="16" alt=${e}></a></li>`:"Bookshop"===e?`<li><a href="${t}" target="_blank" rel="noopener noreferrer"><img src="./images/shopping-list/bookshop.png" width="16" height="16" alt=${e}></a></li>`:void 0)).join("")}</ul>\n            </div>\n\n        </div>\n    </li>`})).join("");s.ul.innerHTML=t}i&&(s.shoppingListIsEmptyMessage.hidden=!0,n(i)),s.ul.addEventListener("click",(function(e){if("BUTTON"!==e.target.nodeName)return;const t=e.target.closest(".shopping-list-item").dataset.id,i=JSON.parse(localStorage.getItem("shopping-list")).filter((({_id:e})=>e!==t));localStorage.removeItem("shopping-list"),s.shoppingListIsEmptyMessage.hidden=!1,0!==i.length&&(localStorage.setItem("shopping-list",JSON.stringify(i)),s.shoppingListIsEmptyMessage.hidden=!0);n(i)}));
//# sourceMappingURL=shopping.9d3f6e82.js.map
