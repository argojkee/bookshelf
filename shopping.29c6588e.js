!function(){document.createElementNS("http://www.w3.org/2000/svg","svg");var e=document.querySelector(".container-books");null==e||e.addEventListener("click",(function(e){if(e.preventDefault(),!e.target.closest("li"))return;t.classList.toggle("hidden"),t.classList.toggle("active")}));var t=document.querySelector('[data-modal="1"]');document.querySelector(".modal-btn-close").addEventListener("click",(function(e){t.classList.toggle("hidden"),t.classList.toggle("active")}));var n="shopping-list",o={ul:document.querySelector(".shopping-list"),shoppingListIsEmptyMessage:document.querySelector(".shopping-list-is-empty-message")},i=JSON.parse(localStorage.getItem(n));function a(e){var t=e.map((function(e){var t=e.book_image,n=e.title,o=e.list_name,i=e.author,a=e.description,s=e.buy_links,r=e._id;a||(a="sorry");var l=s.filter((function(e){var t=e.name;return"Amazon"===t||"Apple Books"===t||"Bookshop"===t})).map((function(e){var t=e.name,n=e.url;return"Amazon"===t?'<li><a href="'.concat(n,'" target="_blank" rel="noopener noreferrer"><img src="./images/shopping-list/amazon.png" width="32" height="11" alt=').concat(t,"></a></li>"):"Apple Books"===t?'<li><a href="'.concat(n,'" target="_blank" rel="noopener noreferrer"><img src="./images/shopping-list/apple_books.png" width="16" height="16" alt=').concat(t,"></a></li>"):"Bookshop"===t?'<li><a href="'.concat(n,'" target="_blank" rel="noopener noreferrer"><img src="./images/shopping-list/bookshop.png" width="16" height="16" alt=').concat(t,"></a></li>"):void 0})).join("");return'<li class="shopping-list-item" data-id="'.concat(r,'">\n        <img src="').concat(t,'" width="100" height="142">\n        <div>\n            <div>\n                <h3>').concat(n,"</h3>\n                <p>").concat(o,'</p>\n                <button type="button" class="shopping-list-delete-btn">\n                    Delete\n                </button>\n            </div>\n\n            <p>').concat(a,"</p>\n\n            <div>\n                <p>").concat(i,"</p>\n\n                <ul>").concat(l,"</ul>\n            </div>\n\n        </div>\n    </li>")})).join("");o.ul.innerHTML=t}i&&(o.shoppingListIsEmptyMessage.hidden=!0,a(i)),o.ul.addEventListener("click",(function(e){if("BUTTON"!==e.target.nodeName)return;var t=e.target.closest(".shopping-list-item").dataset.id,i=JSON.parse(localStorage.getItem(n)).filter((function(e){return e._id!==t}));localStorage.removeItem(n),o.shoppingListIsEmptyMessage.hidden=!1,0!==i.length&&(localStorage.setItem(n,JSON.stringify(i)),o.shoppingListIsEmptyMessage.hidden=!0);a(i)}))}();
//# sourceMappingURL=shopping.29c6588e.js.map
