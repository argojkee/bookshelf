!function(){var n="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self?self:"undefined"!=typeof window?window:"undefined"!=typeof global?global:{},t={},e={},o=n.parcelRequired7c6;null==o&&((o=function(n){if(n in t)return t[n].exports;if(n in e){var o=e[n];delete e[n];var c={id:n,exports:{}};return t[n]=c,o.call(c.exports,c,c.exports),c.exports}var a=new Error("Cannot find module '"+n+"'");throw a.code="MODULE_NOT_FOUND",a}).register=function(n,t){e[n]=t},n.parcelRequired7c6=o),o.register("jaTwk",(function(n,t){n.exports=o("aNJCr").getBundleURL("EVgbq")+o("iE7OH").resolve("lPaFu")})),o("iE7OH").register(JSON.parse('{"EVgbq":"index.a8e54bbb.js","lPaFu":"Books.34b8761e.png","1Vwc0":"shopping.4bace461.js"}')),o("aVhnN"),o("i8Q71");var c=o("bBhLo");o("bBhLo"),c=o("bBhLo");function a(){return document.documentElement.clientWidth<768?1:document.documentElement.clientWidth>767&&document.documentElement.clientWidth<1140?3:document.documentElement.clientWidth>1139?5:void 0}var r=a(),i="",l=document.querySelector(".container-books"),s=document.querySelector(".content");document.querySelector(".content_category");function u(){l.innerHTML="",(0,c.fetchToAllBooks)().then((function(n){return n.data})).then(m).catch(g)}function d(n,t){(0,c.fetchBooksByCategory)(t).then((function(n){return n.data})).then((function(t){!function(n,t){if(0===t.length)return;document.querySelector(".content_btnSeeMore");var e=function(n,t){var e=0,o=t.map((function(o,c){if(c>=r&&e<5)return e+=1,c+1===t.length&&function(n){n.classList.add("hidden")}(n),'<li id="'.concat(o._id,'"class="content_book">\n                          <a  href="').concat(o.book_image,'" >\n                          <img class="content__image" src="').concat(o.book_image,'" alt="').concat(o.title,'" loading="lazy" />\n                          </a>\n                          <span class="content_textname"><p id="content_book_name">').concat(o.title,'</p></span>\n                          <span class="content_textauthor"><p id="content_book_author">').concat(o.author,"</p></span>\n                </li>")})).join("");return r+=5,console.log(),o}(n,t);n.previousElementSibling;n.previousElementSibling.insertAdjacentHTML("beforeend",e)}(n,t)})).catch()}function m(n){if(l.insertAdjacentHTML("beforeend",""),l.innerHTML="",console.log("!!!!!!!!!!!!!!!!!"),0!==n.length){var t=' <h1 class="title-container-topBooks"><span class="title_theme">Best sellers</span> <span class="title_blue"> books </span></h1>\n  <ul class="content_list_categories">'.concat(n.map((function(n){return'<li class="content_categoryItem '.concat(n.list_name,'">\n      <span class="content_category">').concat(n.list_name,'</span>\n                <ul class="content_list_topBooks">').concat(n.books.map((function(n,t){if(t<a())return'<li class="content_book">\n                          <a data-id='.concat(n._id,' href="').concat(n.book_image,'" >\n                          <img class="content__image" src="').concat(n.book_image,'" alt="').concat(n.title,'" loading="lazy" />\n                         \n                          <span class="content_textname"><p id="content_book_name">').concat(n.title,'</p><span>\n                          <span class="content_textauthor"><p id="content_book_author">').concat(n.author,"</p>\n                           </a>\n                          </li>")})).join(""),'</ul>\n          \n                <button class="content_btnSeeMore" type="button" name="').concat(n.list_name,'" \n                 action="submit">SEE MORE</button>         \n          </li>')})).join(""),"</ul>");l.innerHTML=t}}function g(n){console.log("sdasda");var t='<div class="content-error">\n              <img\n              src="'.concat(path,'"\n              alt="error"\n              width="400"\n              height="400"\n              class="content_imgError"/>\n         </div>');s.innerHTML=t}l.innerHTML='<div class="content-error"> \n              <img \n              src="'.concat(o("jaTwk"),'"\n              alt="error"\n              class="content_imgError"/>\n         </div>'),u(),document.querySelector(".container-books").addEventListener("click",(function(n){if(n.preventDefault(),"button"!==n.target.type)return;n.target.name!==i&&(r=a());i=n.target.name,d(n.target,i)}));var f,_={container:document.querySelector(".all-categories-box"),title:document.querySelector(".all-categoris-title"),element:document.querySelector(".all-categoris-element")},p=document.querySelector(".container-books");(0,c.fetchCategoriesList)().then((function(n){var t=n.data,e=t.map((function(n){return'<li class="all-categoris-list">\n      <a class="all-categoris-element" href="" data-name="'.concat(n.list_name,'"\n        >').concat(n.list_name,"</a\n      >\n    </li>\n      ")})).join("");_.container.insertAdjacentHTML("beforeend","".concat(e))})).catch((function(n){console.error("Error:",n)})),_.title.classList.add("current"),_.container.addEventListener("click",(function(){event.preventDefault();var n=event.target;if(!n.classList.contains("all-categoris-element")&&!n.classList.contains("all-categoris-title"))return;var t=n.dataset.name;console.log("Clicked on category: ".concat(t)),e=n,document.querySelectorAll(".all-categoris-list a").forEach((function(n){n.classList.contains("current")&&(f=n)})),void(e!==f&&(e.classList.add("current"),f.classList.remove("current"))),"All categories"===t?u():(o=t,(0,c.fetchBooksByCategory)(o).then((function(n){var t,e,o;console.log("Received data from server:",n.data),p.innerHTML="",t=n.data,e=t.map((function(n,t){return'<li class="content_book" data-id='.concat(n._id,'>\n          <a  href="').concat(n.book_image,'" >\n          <img class="content__image" src="').concat(n.book_image,'" alt="').concat(n.title,'" loading="lazy" />\n          </a>\n          <p id="content_book_name">').concat(n.title,'</p>\n          <p id="content_book_author">').concat(n.author,"</p>\n          </li>")})).join(""),o='<ul class="content_list_topBooks">'.concat(e,"</ul>"),p.insertAdjacentHTML("beforeend",o)})).catch((function(n){console.error("Error:",n)})));var e;var o})),o("kX0OW"),o("1Cek3"),o("9cmFR"),o("gM4a7"),o("iIkkM"),o("7ZZgP")}();
//# sourceMappingURL=index.a8e54bbb.js.map
