{"mappings":"oeAAAA,EAAA,S,iCCAA,IAAAC,EAAAD,EAAA,SAEA,MAAME,EAAO,CACXC,UAAWC,SAASC,cAAc,uBAClCC,MAAOF,SAASC,cAAc,wBAC9BE,QAASH,SAASC,cAAc,2BAGlC,IAAIG,GAEJ,EAAAP,EAAAQ,uBACGC,MAAKC,IACJ,MAAMC,EAAaD,EAASE,KACtBC,EAAsBF,EAa3BG,KACCC,GACE,8FACoDA,EAASC,wBAC1DD,EAASC,6CAKfC,KAAK,IArBNhB,EAAKC,UAAUgB,mBAAmB,YAAa,GAAGL,IAAS,IAE5DM,OAAMC,IACLC,QAAQD,MAAM,SAAUA,EAAM,IAGlCnB,EAAKI,MAAMiB,UAAUC,IAAI,WAEzBtB,EAAKC,UAAUsB,iBAAiB,SAgBhC,WACEC,MAAMC,iBAEN,MAAMC,EAAiBF,MAAMG,OAEvBC,EAAeF,EAAeG,QAAQC,KAC5CV,QAAQW,IAAI,wBAAwBH,KASfI,EARPN,EAUexB,SAAS+B,iBAAiB,yBAClCC,SAAQC,IACvBA,EAAKd,UAAUe,SAAS,aAC1B9B,EAAqB6B,EAAI,IAIzBH,IAAe1B,IACjB0B,EAAWX,UAAUC,IAAI,WACzBhB,EAAmBe,UAAUgB,OAAO,YAXxC,IAAuBL,C,eCrDvBjC,EAAAD,EAAA,SCCO,SAASwC,EAAqBC,GA8BnC,MA7Be,uCAAuCA,EACnD1B,KAAI,CAAC2B,EAASC,IACN,aACLD,EAAQzB,0EACuDyB,EAAQE,MACtE7B,KAAI,CAAC8B,EAAMC,IAEH,4BACLA,GA8BZ,SAAuBH,GACrB,GAAIvC,SAAS2C,gBAAgBC,YAAc,IACzC,OAAO,EACF,GACL5C,SAAS2C,gBAAgBC,YAAc,KACvC5C,SAAS2C,gBAAgBC,YAAc,KAEvC,OAAO,EACF,GAAI5C,SAAS2C,gBAAgBC,YAAc,KAChD,OAAO,C,CAzCWC,GAEW,SAAW,6BAEtBJ,EAAKK,6DACkBL,EAAKK,oBACtCL,EAAKvC,iFAGqBuC,EAAKvC,oDACHuC,EAAKM,gCAGpCjC,KAAK,6LAMTA,KAAK,U,CDxBV,MAAMkC,EAAgBhD,SAASC,cAAc,oBASN,SAA9BgD,EAAWxC,GAClB,GAAyB,IAArBA,EAAKA,KAAKyC,OAAc,CAEY,IAAlCxC,ECuCC,0DDrCL,YADAsC,EAAcjC,mBAAmB,YAAaL,E,CAIhD,IAAIA,EAAS0B,EAAqB3B,EAAKA,MACvCuC,EAAcjC,mBAAmB,YAAaL,E,CAIhD,SAASyC,EAAelC,GAEtB+B,EAAcjC,mBAAmB,YC2B1B,0D,ED9CP,EAAAlB,EAAAuD,mBAAkB9C,KAAK2C,GAAYjC,MAAMmC,G","sources":["src/index.js","src/js/categoriesList.js","src/js/content.js","src/js/contentFunctions.js"],"sourcesContent":["import './js/fondImages';\nimport './js/bookMarkets';\nimport './js/sprite';\nimport './js/header';\nimport './js/categoriesList';\nimport './js/fondsList';\nimport './js/content';\nimport './js/modalBook';\nimport './js/burgerMenu';\nimport './js/loginization';\nimport './js/scrollup';\n","import { fetchCategoriesList } from '../services/books-api';\n\nconst refs = {\n  container: document.querySelector(`.all-categories-box`),\n  title: document.querySelector(`.all-categoris-title`),\n  element: document.querySelector(`.all-categoris-element`),\n};\n\nlet elementHaveCurrent;\n\nfetchCategoriesList()\n  .then(response => {\n    const categories = response.data;\n    const markup = createMarkup(categories);\n    refs.container.insertAdjacentHTML(`beforeend`, `${markup}`);\n  })\n  .catch(error => {\n    console.error('Error:', error);\n  });\n\nrefs.title.classList.add('current');\n\nrefs.container.addEventListener(`click`, showCategoryBook);\n\nfunction createMarkup(array) {\n  return array\n    .map(\n      categori =>\n        `<li class=\"all-categoris-list\">\n      <a class=\"all-categoris-element\" href=\"\" data-name=\"${categori.list_name}\"\n        >${categori.list_name}</a\n      >\n    </li>\n      `\n    )\n    .join(``);\n}\n\nfunction showCategoryBook() {\n  event.preventDefault(); \n  \n  const clickedElement = event.target;\n\n  const categoryName = clickedElement.dataset.name;\n  console.log(`Clicked on category: ${categoryName}`);\n  changeCurrent(clickedElement);\n\n\n\n\n  \n}\n  \nfunction changeCurrent(curentClic) {\n\n  const allCategoryListItems = document.querySelectorAll('.all-categoris-list a');\n  allCategoryListItems.forEach(item => {\n    if (item.classList.contains('current')) {\n      elementHaveCurrent = item; \n    }\n  });\n\n  if (curentClic !== elementHaveCurrent) {\n    curentClic.classList.add('current');\n    elementHaveCurrent.classList.remove('current');\n    } \n}\n\n\n","import { fetchToAllBooks } from '../services/books-api';\nimport { renderMarkupTopBooks, renderError } from './contentFunctions';\n\nconst containerBook = document.querySelector('.container-books');\n\ngetTopBooks();\n\nfunction getTopBooks() {\n  fetchToAllBooks().then(renderData).catch(errorfetchData);\n}\n\n//якщо дані витягуємо вдало, то кладемо їх в масив\nfunction renderData(data) {\n  if (data.data.length === 0) {\n    //немає книг, потрібно показати картинку про це');\n    let markup = renderError(data);\n    containerBook.insertAdjacentHTML('beforeend', markup);\n    return;\n  }\n\n  let markup = renderMarkupTopBooks(data.data);\n  containerBook.insertAdjacentHTML('beforeend', markup);\n}\n\n//якщо помилка, то оброблюємо помилку\nfunction errorfetchData(error) {\n  let markup = renderError(error);\n  containerBook.insertAdjacentHTML('beforeend', markup);\n}\n","//ф-ція для створення розмітки, яка видає топ книг\nexport function renderMarkupTopBooks(array) {\n  const markup = `<ul class=\"content_list_categories\">${array\n    .map((katItem, index) => {\n      return `<li><span>${\n        katItem.list_name\n      }</span><ul class=\"content_list_topBooks\" style=\"display:flex\">${katItem.books\n        .map((book, indexBook) => {\n          let count = countTopBooks(indexBook);\n          return `<li class=\"content_book  ${\n            indexBook >= count ? 'hidden' : ''\n          }\">\n          <a  href=\"${book.book_image}\" >\n          <img class=\"content__image\" src=\"${book.book_image}\" alt=\"${\n            book.title\n          }\" loading=\"lazy\" />\n          </a>\n          <p id=\"content_book_name\">${book.title}</p>\n          <p id=\"content_book_author\">${book.author}</p>\n          </li>`;\n        })\n        .join('')}</ul>\n          <div class=\"content_container_btn\">\n                <button type=\"button\" class=\"content_btnSeeMore\" action=\"submit\">SEE MORE</button>\n       </div>\n       </li>`;\n    })\n    .join('')}</ul>`;\n\n  // const btnSeeMore = document.querySelector('.content_container_btn');\n  // btnSeeMore.addEventListener('submit', handleSumitSeeMore);\n  return markup;\n}\n\nfunction handleSumitSeeMore(e) {\n  e.preventDefault();\n  // далі узнати категорію на яку клацнули\n}\n\n// визначаємо, кількість книг в одній категорії в залежності від розміру екрана\nfunction countTopBooks(index) {\n  if (document.documentElement.clientWidth < 768) {\n    return 1;\n  } else if (\n    document.documentElement.clientWidth > 767 &&\n    document.documentElement.clientWidth < 1440\n  ) {\n    return 3;\n  } else if (document.documentElement.clientWidth > 1439) {\n    return 5;\n  }\n}\n\nexport function renderError(error) {\n  return `<div class=\"content-error\">\n         ERROR\n    </div>`;\n}\n"],"names":["parcelRequire","$1Xv76","$852957c2b5c37805$var$refs","container","document","querySelector","title","element","$852957c2b5c37805$var$elementHaveCurrent","fetchCategoriesList","then","response","categories","data","markup","map","categori","list_name","join","insertAdjacentHTML","catch","error","console","classList","add","addEventListener","event","preventDefault","clickedElement","target","categoryName","dataset","name","log","curentClic","querySelectorAll","forEach","item","contains","remove","$5cf1eb56275d3cb8$export$a32c8f81ca17acee","array","katItem","index","books","book","indexBook","documentElement","clientWidth","$5cf1eb56275d3cb8$var$countTopBooks","book_image","author","$c0508c5db07a4ed5$var$containerBook","$c0508c5db07a4ed5$var$renderData","length","$c0508c5db07a4ed5$var$errorfetchData","fetchToAllBooks"],"version":3,"file":"index.92dc5656.js.map"}