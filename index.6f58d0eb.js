function e(e){return e&&e.__esModule?e.default:e}var t="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self?self:"undefined"!=typeof window?window:"undefined"!=typeof global?global:{},n={},o={},a=t.parcelRequired7c6;null==a&&((a=function(e){if(e in n)return n[e].exports;if(e in o){var t=o[e];delete o[e];var a={id:e,exports:{}};return n[e]=a,t.call(a.exports,a,a.exports),a.exports}var i=new Error("Cannot find module '"+e+"'");throw i.code="MODULE_NOT_FOUND",i}).register=function(e,t){o[e]=t},t.parcelRequired7c6=a),a.register("ekb7P",(function(e,t){e.exports=new URL(a("kyEFX").resolve("5lkeA"),import.meta.url).toString()})),a("kyEFX").register(JSON.parse('{"5ZPII":"index.6f58d0eb.js","5lkeA":"Books.34b8761e.png","4jukI":"shopping.f2e8a518.js"}')),a("hjE7W"),a("bUb57");var i=a("1Xv76"),c=(a("1Xv76"),a("7Y9D8"));i=a("1Xv76");function s(){return document.documentElement.clientWidth<768?1:document.documentElement.clientWidth>767&&document.documentElement.clientWidth<1140?3:document.documentElement.clientWidth>1139?5:void 0}let l=s(),r="";const d=document.querySelector(".container-books");document.querySelector(".content"),document.querySelector(".content_category");function u(){d.innerHTML="",d.innerHTML="",(0,i.fetchToAllBooks)().then((e=>e.data)).then((e=>d.innerHTML=` <h1 class="title-container-topBooks"><span class="title_theme">Best sellers</span> <span class="title_blue"> books </span></h1>\n  <ul class="content_list_categories">${e.map((e=>`<li class="content_categoryItem ${e.list_name}">\n      <span class="content_category">${e.list_name}</span>\n                <ul class="content_list_topBooks">${e.books.map(((e,t)=>{if(t<s())return`<li class="content_book">\n                          <a data-id=${e._id} href="${e.book_image}"  class="content-book-link" >\n                        \n                          <img class="content__image" src="${e.book_image}" alt="${e.title}" loading="lazy" />\n                         \n                         <span class="content_textname" id="content_book_name">${e.title}</span>\n                         <span class="content_textauthor" id="content_book_name">${e.author}</span>\n                           </a>\n                          </li>`})).join("")}</ul>\n          \n                <button class="content_btnSeeMore" type="button" name="${e.list_name}" \n                 action="submit">SEE MORE</button>         \n          </li>`)).join("")}</ul>`))}function m(t,n){(0,i.fetchBooksByCategory)(n).then((e=>e.data)).then((n=>{!function(t,n){let o=function(t,n){let o=0,a=0,i=n.map(((i,s)=>{if(s>=l&&o<5)return o+=1,a+=1,s+1===n.length&&(!function(e){e.classList.add("hidden")}(t),t.parentNode.nextSibling.firstElementChild.classList.add("contend_categoryMove"),e(c).Notify.info("this is all. Check out other category books")),`<li class="content_book">\n                          <a data-id=${i._id} href="${i.book_image}" class="content-book-link" >\n                          <img class="content__image" src="${i.book_image}" alt="${i.title}" loading="lazy" />\n                          \n                          <span class="content_textname" id="content_book_name">${i.title}</span>\n                          <span class="content_textauthor" id="content_book_author">${i.author}</span>\n                          </a>\n                </li>`})).join("");return l+=a,a=0,i}(t,n);t.previousElementSibling.insertAdjacentHTML("beforeend",o)}(t,n)})).catch()}d.innerHTML=`<div class="content-error"> \n              <img \n              src="${a("ekb7P")}"\n              alt="error"\n              class="content_imgError"/>\n         </div>`,u();document.querySelector(".container-books").addEventListener("click",(function(e){if(e.preventDefault(),"button"!==e.target.type)return;e.target.name!==r&&(l=s());r=e.target.name,m(e.target,r)})),e(c).Notify.init({width:"480px",position:"right-bottom",distance:"10px",opacity:1,fontSize:"20px",clickToClose:!0,timeout:3e3,background:"#4f2ee8"});const _={container:document.querySelector(".all-categories-box"),title:document.querySelector(".all-categoris-title"),element:document.querySelector(".all-categoris-element")},g=document.querySelector(".container-books");let f;(0,i.fetchCategoriesList)().then((e=>{const t=e.data,n=t.map((e=>`<li class="all-categoris-list">\n      <a class="all-categoris-element" href="" data-name="${e.list_name}"\n        >${e.list_name}</a\n      >\n    </li>\n      `)).join("");_.container.insertAdjacentHTML("beforeend",`${n}`)})).catch((e=>{console.error("Error:",e)})),_.title.classList.add("current"),_.container.addEventListener("click",(function(){event.preventDefault();const e=event.target;if(!e.classList.contains("all-categoris-element")&&!e.classList.contains("all-categoris-title"))return;const t=e.dataset.name;console.log(`Clicked on category: ${t}`),n=e,document.querySelectorAll(".all-categoris-list a").forEach((e=>{e.classList.contains("current")&&(f=e)})),void(n!==f&&(n.classList.add("current"),f.classList.remove("current"))),"All categories"===t?u():(o=t,(0,i.fetchBooksByCategory)(o).then((e=>{console.log("Received data from server:",e.data),g.innerHTML="",function(e){const t=`<ul class="content_list_topBooks">${e.map(((e,t)=>`<li class="content_book" data-id=${e._id}>\n            <a data-id=${e._id} href="${e.book_image}" >\n         <img class="content__image" src="${e.book_image}" alt="${e.title}" loading="lazy" />\n         \n           <span class="content_textname" id="content_book_name">${e.title}</span>\n           <span class="content_textauthor" id="content_book_name">${e.author}</span>\n            </a>\n          </li>`)).join("")}</ul>`;g.insertAdjacentHTML("beforeend",t)}(e.data)})).catch((e=>{console.error("Error:",e)})));var n;var o})),a("lTi1U"),a("7Jfzs"),a("enwL7"),a("kJ3qw"),a("l6875"),a("2qRC4");
//# sourceMappingURL=index.6f58d0eb.js.map
