document.createElementNS("http://www.w3.org/2000/svg","svg");const e=document.querySelector(".container-books");null==e||e.addEventListener("click",(function(e){if(e.preventDefault(),!e.target.closest("li"))return;t.classList.toggle("hidden"),t.classList.toggle("active")}));const t=document.querySelector('[data-modal="1"]');document.querySelector(".modal-btn-close").addEventListener("click",(function(e){t.classList.toggle("hidden"),t.classList.toggle("active")}));const n={ul:document.querySelector(".shopping-list"),shoppingListIsEmptyMessage:document.querySelector(".shopping-list-is-empty-message")},i=JSON.parse(localStorage.getItem("shopping-list"));function s(e){const t=e.map((({book_image:e,title:t,list_name:n,author:i,description:s,buy_links:o,_id:l})=>{s||(s="sorry");return`<li class="shopping-list-item" data-id="${l}">\n        <img src="${e}" width="100" height="142">\n        <div>\n            <div>\n                <h3>${t}</h3>\n                <p>${n}</p>\n                <button type="button" class="shopping-list-delete-btn">\n                    Delete\n                </button>\n            </div>\n\n            <p>${s}</p>\n\n            <div>\n                <p>${i}</p>\n\n                <ul>${o.filter((({name:e})=>"Amazon"===e||"Apple Books"===e||"Bookshop"===e)).map((({name:e,url:t})=>"Amazon"===e?`<li><a href="${t}" target="_blank" rel="noopener noreferrer"><img src="./images/shopping-list/amazon.png" width="32" height="11" alt=${e}></a></li>`:"Apple Books"===e?`<li><a href="${t}" target="_blank" rel="noopener noreferrer"><img src="./images/shopping-list/apple_books.png" width="16" height="16" alt=${e}></a></li>`:"Bookshop"===e?`<li><a href="${t}" target="_blank" rel="noopener noreferrer"><img src="./images/shopping-list/bookshop.png" width="16" height="16" alt=${e}></a></li>`:void 0)).join("")}</ul>\n            </div>\n\n        </div>\n    </li>`})).join("");n.ul.innerHTML=t}i&&(n.shoppingListIsEmptyMessage.hidden=!0,s(i)),n.ul.addEventListener("click",(function(e){if("BUTTON"!==e.target.nodeName)return;const t=e.target.closest(".shopping-list-item").dataset.id,i=JSON.parse(localStorage.getItem("shopping-list")).filter((({_id:e})=>e!==t));localStorage.removeItem("shopping-list"),n.shoppingListIsEmptyMessage.hidden=!1,0!==i.length&&(localStorage.setItem("shopping-list",JSON.stringify(i)),n.shoppingListIsEmptyMessage.hidden=!0);s(i)}));
//# sourceMappingURL=shopping.23c5a0cc.js.map
