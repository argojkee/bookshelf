!function(){function t(t){return t&&t.__esModule?t.default:t}var n="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self?self:"undefined"!=typeof window?window:"undefined"!=typeof global?global:{},e={},o={},a=n.parcelRequired7c6;null==a&&((a=function(t){if(t in e)return e[t].exports;if(t in o){var n=o[t];delete o[t];var a={id:t,exports:{}};return e[t]=a,n.call(a.exports,a,a.exports),a.exports}var c=new Error("Cannot find module '"+t+"'");throw c.code="MODULE_NOT_FOUND",c}).register=function(t,n){o[t]=n},n.parcelRequired7c6=a),a.register("jaTwk",(function(t,n){t.exports=a("aNJCr").getBundleURL("EVgbq")+a("iE7OH").resolve("lPaFu")})),a("iE7OH").register(JSON.parse('{"EVgbq":"index.7e5c72c2.js","lPaFu":"Books.34b8761e.png","1Vwc0":"shopping.a85552e5.js"}')),a("aVhnN"),a("i8Q71");var c=a("bBhLo"),i=(a("bBhLo"),a("6JpON"));c=a("bBhLo");function s(){return document.documentElement.clientWidth<768?1:document.documentElement.clientWidth>767&&document.documentElement.clientWidth<1140?3:document.documentElement.clientWidth>1139?5:void 0}var l=s(),r=(document.querySelector("content_loadBooks"),document.querySelector(".container-books")),d=document.querySelector(".content");function u(){r.innerHTML="",d.classList.add("content-loader"),(0,c.fetchToAllBooks)().then((function(t){return t.data})).then((function(t){d.classList.remove("content-loader"),r.innerHTML=' <h1 class="title-container-topBooks"><span class="title_theme">Best sellers</span> <span class="title_blue"> books </span></h1>\n  <ul class="content_list_categories">'.concat(t.map((function(t){return'<li class="content_categoryItem '.concat(t.list_name,'">\n      <span class="content_category">').concat(t.list_name,'</span>\n                <ul class="content_list_topBooks">').concat(t.books.map((function(t,n){if(n<s())return'<li class="content_book">\n                          <a data-id='.concat(t._id,' href="').concat(t.book_image,'"  class="content-book-link" >\n                        \n                          <img class="content__image" src="').concat(t.book_image,'" alt="').concat(t.title,'" loading="lazy" />\n                         \n                         <span class="content_textname" id="content_book_name">').concat(t.title,'</span>\n                         <span class="content_textauthor" id="content_book_name">').concat(t.author,"</span>\n                           </a>\n                          </li>")})).join(""),'</ul>\n          \n               \n                <button class="content_btnSeeMore"\n                        type="button"\n                        name="').concat(t.list_name,'" \n                        action="submit">SEE MORE\n                </button>                                                    \n          </li>')})).join(""),"</ul>")}))}function m(n){(0,c.fetchBooksByCategory)(n.name).then((function(t){return n.classList.remove("loader"),t.data})).then((function(e){!function(n,e){var o=(a=n,c=e,c.map((function(n,e){if(e>=l)return e+1===c.length&&(function(t){t.classList.add("hidden")}(a),null!=a.parentNode.nextSibling&&a.parentNode.nextSibling.firstElementChild.classList.add("contend_categoryMove"),t(i).Notify.info("this is all. Check out other category books")),'<li class="content_book">\n                          <a data-id='.concat(n._id,' href="').concat(n.book_image,'" class="content-book-link" >\n                          <img class="content__image" src="').concat(n.book_image,'" alt="').concat(n.title,'" loading="lazy" />\n                          \n                          <span class="content_textname" id="content_book_name">').concat(n.title,'</span>\n                          <span class="content_textauthor" id="content_book_author">').concat(n.author,"</span>\n                          </a>\n                </li>")})).join(""));var a,c;n.previousElementSibling.insertAdjacentHTML("beforeend",o)}(n,e),n.innerHTML="SEE MORE"})).catch()}r.innerHTML='<div class="content-error"> \n              <img \n              src="'.concat(a("jaTwk"),'"\n              alt="error"\n              class="content_imgError"/>\n         </div>'),u(),document.querySelector(".container-books").addEventListener("click",(function(t){if(t.preventDefault(),"button"!==t.target.type)return;m(t.target)})),t(i).Notify.init({width:"480px",position:"right-bottom",distance:"10px",opacity:1,fontSize:"20px",clickToClose:!0,timeout:3e3,background:"#4f2ee8"});var f,_={container:document.querySelector(".all-categories-box"),title:document.querySelector(".all-categoris-title"),element:document.querySelector(".all-categoris-element"),booksContainer:document.querySelector(".container-books")},p=document.querySelector(".container-books");(0,c.fetchCategoriesList)().then((function(t){var n=t.data,e=n.map((function(t){return'<li class="all-categoris-list">\n      <a class="all-categoris-element" href="" data-name="'.concat(t.list_name,'"\n        >').concat(t.list_name,"</a\n      >\n    </li>\n      ")})).join("");_.container.insertAdjacentHTML("beforeend","".concat(e))})).catch((function(t){console.error("Error:",t)})),_.title.classList.add("current"),_.container.addEventListener("click",(function(){event.preventDefault();var t=event.target;if(!t.classList.contains("all-categoris-element")&&!t.classList.contains("all-categoris-title"))return;var n=t.dataset.name;e=t,document.querySelectorAll(".all-categoris-list a").forEach((function(t){t.classList.contains("current")&&(f=t)})),void(e!==f&&(e.classList.add("current"),f.classList.remove("current"))),"All categories"===n?u():(_.booksContainer.innerHTML="",_.booksContainer.classList.add("content-loader"),o=n,(0,c.fetchBooksByCategory)(o).then((function(t){var n,e,a,c,i,s,l;console.log("Received data from server:",t.data),_.booksContainer.classList.remove("content-loader"),n=t.data,e=o.split(" "),a=e.slice(0,-1).join(" "),c=e[e.length-1],i='<h1 class="title-container-topBooks">\n    <span class="title_theme">'.concat(a,'</span>\n    <span class="title_blue">').concat(c,"</span></h1>"),s=n.map((function(t,n){return'<li class="content_book" data-id='.concat(t._id,">\n            <a data-id=").concat(t._id,' href="').concat(t.book_image,'" >\n         <img class="content__image" src="').concat(t.book_image,'" alt="').concat(t.title,'" loading="lazy" />\n         \n           <span class="content_textname" id="content_book_name">').concat(t.title,'</span>\n           <span class="content_textauthor" id="content_book_name">').concat(t.author,"</span>\n            </a>\n          </li>")})).join(""),l="".concat(i,'<ul class="content_list_topBooks">').concat(s,"</ul>"),p.insertAdjacentHTML("beforeend",l)})).catch((function(t){console.error("Error:",t)})));var e;var o})),a("kX0OW"),a("1Cek3"),a("9cmFR"),a("gM4a7"),a("iIkkM"),a("7ZZgP")}();
//# sourceMappingURL=index.7e5c72c2.js.map
