{"mappings":"YAAmBA,SAASC,gBAC1B,6BACA,OAFF,ICAMC,EAAgBF,SAASG,cAAc,oBAC7CD,WAAeE,iBAAiB,SAOhC,SAAmBC,GAGjB,GAFAA,EAAMC,kBAEDD,EAAME,OAAOC,QAAQ,MACxB,OAEAC,EAAUC,UAAUC,OAAO,UAC3BF,EAAUC,UAAUC,OAAO,S,IAZ/B,IAAMF,EAAYT,SAASG,cAAc,oBAEnBH,SAASG,cAAc,oBAC/BC,iBAAiB,SAc/B,SAAoBC,GAClBI,EAAUC,UAAUC,OAAO,UAC3BF,EAAUC,UAAUC,OAAO,S,ICtB7B,IAAMC,EAAc,gBAEdC,EAAO,CACXC,GAAId,SAASG,cAAc,kBAC3BY,2BAA4Bf,SAASG,cACnC,oCASEa,EAAQC,KAAKC,MAAMC,aAAaC,QAAQR,IAS9C,SAASS,EAAaC,GACpB,IAAMC,EAASD,EACZE,KACC,SAAAC,G,IACEC,EAAUD,EAAVC,WACAC,EAAKF,EAALE,MACAC,EAASH,EAATG,UACAC,EAAMJ,EAANI,OACAC,EAAWL,EAAXK,YACAC,EAASN,EAATM,UACAC,EAAGP,EAAHO,IAEKF,IACHA,EAAc,SAGhB,IAAMG,EAAkBF,EACrBG,QACC,SAAAC,G,IAAGC,EAAID,EAAJC,K,MACQ,WAATA,GAA8B,gBAATA,GAAmC,aAATA,C,IAElDZ,KAAI,SAAAW,G,IAAGC,EAAID,EAAJC,KAAMC,EAAGF,EAAHE,IACZ,MAAa,WAATD,EACK,gBAA0IE,OAA1HD,EAAI,wHAA2HC,OAALF,EAAK,cAG3I,gBAATA,EACK,gBAA+IE,OAA/HD,EAAI,6HAAgIC,OAALF,EAAK,cAGhJ,aAATA,EACK,gBAA4IE,OAA5HD,EAAI,0HAA6HC,OAALF,EAAK,mBAD1J,C,IAIDG,KAAK,IAER,MAAO,2CACKD,OADsCN,EAAI,0BAIxCM,OAHFZ,EAAW,uFAIVY,OADCX,EAAM,8BAOXW,OANIV,EAAU,+KASVU,OAHJR,EAAY,kDAKPQ,OAFDT,EAAO,gCAEUS,OAAhBL,EAAgB,yD,IAOjCM,KAAK,IAER1B,EAAKC,GAAG0B,UAAYjB,C,CApElBP,IACFH,EAAKE,2BAA2B0B,QAAS,EACzCpB,EAAaL,IAGfH,EAAKC,GAAGV,iBAAiB,SAkEzB,SAAoBC,GAClB,GAA8B,WAA1BA,EAAME,OAAOmC,SACf,OAGF,IAAMC,EAAStC,EAAME,OAAOC,QAAQ,uBAAuBoC,QAAQC,GAG7DC,EAFQ7B,KAAKC,MAAMC,aAAaC,QAAQR,IAElBsB,QAAO,SAAAC,G,OAAMA,EAAHH,MAAkBW,C,IACxDxB,aAAa4B,WAAWnC,GACxBC,EAAKE,2BAA2B0B,QAAS,EAEZ,IAAzBK,EAAcE,SAChB7B,aAAa8B,QAAQrC,EAAaK,KAAKiC,UAAUJ,IACjDjC,EAAKE,2BAA2B0B,QAAS,GAG3CpB,EAAayB,E","sources":["src/js/sprite.js","src/js/modalBook.js","src/js/shoppingList.js"],"sourcesContent":["const svgElement = document.createElementNS(\n  'http://www.w3.org/2000/svg',\n  'svg'\n);\n\n// const markup = `<svg ><use xlink:href=\"#icon-logotype\"></use></svg>`;\n","const BookContainer = document.querySelector('.container-books');\nBookContainer?.addEventListener('click', openModal);\n\nconst modalBook = document.querySelector('[data-modal=\"1\"]');\n\nconst closeModalBtn = document.querySelector('.modal-btn-close');\ncloseModalBtn.addEventListener('click', closeModal);\n\nfunction openModal(event) {\n  event.preventDefault();\n  //   console.log(event.target.closest('li'));\n  if (!event.target.closest('li')) {\n    return;\n  } else {\n    modalBook.classList.toggle('hidden');\n    modalBook.classList.toggle('active');\n    addModalBookMarkup();\n  }\n}\n\nfunction closeModal(event) {\n  modalBook.classList.toggle('hidden');\n  modalBook.classList.toggle('active');\n}\n\nfunction addModalBookMarkup() {\n  //   console.log('add');\n}\n","const STORAGE_KEY = 'shopping-list';\n\nconst refs = {\n  ul: document.querySelector('.shopping-list'),\n  shoppingListIsEmptyMessage: document.querySelector(\n    '.shopping-list-is-empty-message'\n  ),\n};\n\n// axios.get(`https://books-backend.p.goit.global/books/category?category=Business Books&`).then(({data}) => {\n//     console.log(data);\n//     localStorage.setItem(STORAGE_KEY, JSON.stringify(data));\n// });\n\nconst books = JSON.parse(localStorage.getItem(STORAGE_KEY));\n\nif (books) {\n  refs.shoppingListIsEmptyMessage.hidden = true;\n  createMarkup(books);\n}\n\nrefs.ul.addEventListener('click', deleteItem);\n\nfunction createMarkup(books) {\n  const markup = books\n    .map(\n      ({\n        book_image,\n        title,\n        list_name,\n        author,\n        description,\n        buy_links,\n        _id,\n      }) => {\n        if (!description) {\n          description = 'sorry';\n        }\n\n        const currentBuyLinks = buy_links\n          .filter(\n            ({ name }) =>\n              name === 'Amazon' || name === 'Apple Books' || name === 'Bookshop'\n          )\n          .map(({ name, url }) => {\n            if (name === 'Amazon') {\n              return `<li><a href=\"${url}\" target=\"_blank\" rel=\"noopener noreferrer\"><img src=\"./images/shopping-list/amazon.png\" width=\"32\" height=\"11\" alt=${name}></a></li>`;\n            }\n\n            if (name === 'Apple Books') {\n              return `<li><a href=\"${url}\" target=\"_blank\" rel=\"noopener noreferrer\"><img src=\"./images/shopping-list/apple_books.png\" width=\"16\" height=\"16\" alt=${name}></a></li>`;\n            }\n\n            if (name === 'Bookshop') {\n              return `<li><a href=\"${url}\" target=\"_blank\" rel=\"noopener noreferrer\"><img src=\"./images/shopping-list/bookshop.png\" width=\"16\" height=\"16\" alt=${name}></a></li>`;\n            }\n          })\n          .join('');\n\n        return `<li class=\"shopping-list-item\" data-id=\"${_id}\">\n        <img src=\"${book_image}\" width=\"100\" height=\"142\">\n        <div>\n            <div>\n                <h3>${title}</h3>\n                <p>${list_name}</p>\n                <button type=\"button\" class=\"shopping-list-delete-btn\">\n                    Delete\n                </button>\n            </div>\n\n            <p>${description}</p>\n\n            <div>\n                <p>${author}</p>\n\n                <ul>${currentBuyLinks}</ul>\n            </div>\n\n        </div>\n    </li>`;\n      }\n    )\n    .join('');\n\n  refs.ul.innerHTML = markup;\n}\n\nfunction deleteItem(event) {\n  if (event.target.nodeName !== 'BUTTON') {\n    return;\n  }\n\n  const itemId = event.target.closest('.shopping-list-item').dataset.id;\n  const books = JSON.parse(localStorage.getItem(STORAGE_KEY));\n\n  const filteredBooks = books.filter(({ _id }) => _id !== itemId);\n  localStorage.removeItem(STORAGE_KEY);\n  refs.shoppingListIsEmptyMessage.hidden = false;\n\n  if (filteredBooks.length !== 0) {\n    localStorage.setItem(STORAGE_KEY, JSON.stringify(filteredBooks));\n    refs.shoppingListIsEmptyMessage.hidden = true;\n  }\n\n  createMarkup(filteredBooks);\n}\n"],"names":["document","createElementNS","$6b26d2ad788ca7c0$var$BookContainer","querySelector","addEventListener","event","preventDefault","target","closest","$6b26d2ad788ca7c0$var$modalBook","classList","toggle","$0fbe84baae5e1bf4$var$STORAGE_KEY","$0fbe84baae5e1bf4$var$refs","ul","shoppingListIsEmptyMessage","$0fbe84baae5e1bf4$var$books","JSON","parse","localStorage","getItem","$0fbe84baae5e1bf4$var$createMarkup","books1","markup","map","param1","book_image","title","list_name","author","description","buy_links","_id","currentBuyLinks","filter","param","name","url","concat","join","innerHTML","hidden","nodeName","itemId","dataset","id","filteredBooks","removeItem","length","setItem","stringify"],"version":3,"file":"shopping.29c6588e.js.map"}