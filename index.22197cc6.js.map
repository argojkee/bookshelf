{"mappings":"oeAAAA,EAAA,S,4CCAA,IAAAC,EAAAD,EAAA,SCCO,SAASE,EAAqBC,GA8BnC,MA7Be,uCAAuCA,EACnDC,KAAI,CAACC,EAASC,IACN,aACLD,EAAQE,0EACuDF,EAAQG,MACtEJ,KAAI,CAACK,EAAMC,IAEH,4BACLA,GA8BZ,SAAuBJ,GACrB,GAAIK,SAASC,gBAAgBC,YAAc,IACzC,OAAO,EACF,GACLF,SAASC,gBAAgBC,YAAc,KACvCF,SAASC,gBAAgBC,YAAc,KAEvC,OAAO,EACF,GAAIF,SAASC,gBAAgBC,YAAc,KAChD,OAAO,C,CAzCWC,GAEW,SAAW,6BAEtBL,EAAKM,6DACkBN,EAAKM,oBACtCN,EAAKO,iFAGqBP,EAAKO,oDACHP,EAAKQ,gCAGpCC,KAAK,6LAMTA,KAAK,U,CDxBV,MAAMC,EAAgBR,SAASS,cAAc,oBASN,SAA9BC,EAAWC,GAClB,GAAyB,IAArBA,EAAKA,KAAKC,OAAc,CAEY,IAAlCC,ECuCC,0DDrCL,YADAL,EAAcM,mBAAmB,YAAaD,E,CAIhD,IAAIA,EAAStB,EAAqBoB,EAAKA,MACvCH,EAAcM,mBAAmB,YAAaD,E,CAIhD,SAASE,EAAeC,GAEtBR,EAAcM,mBAAmB,YC2B1B,0D,ED9CP,EAAAxB,EAAA2B,mBAAkBC,KAAKR,GAAYS,MAAMJ,G","sources":["src/index.js","src/js/content.js","src/js/contentFunctions.js"],"sourcesContent":["import './js/fondImages';\nimport './js/bookMarkets';\nimport './js/sprite';\nimport './js/header';\nimport './js/categoriesList';\nimport './js/fondsList';\nimport './js/content';\nimport './js/modalBook';\nimport './js/burgerMenu';\nimport './js/loginization';\nimport './js/scrollup';\n","import { fetchToAllBooks } from '../services/books-api';\nimport { renderMarkupTopBooks, renderError } from './contentFunctions';\n\nconst containerBook = document.querySelector('.container-books');\n\ngetTopBooks();\n\nfunction getTopBooks() {\n  fetchToAllBooks().then(renderData).catch(errorfetchData);\n}\n\n//якщо дані витягуємо вдало, то кладемо їх в масив\nfunction renderData(data) {\n  if (data.data.length === 0) {\n    //немає книг, потрібно показати картинку про це');\n    let markup = renderError(data);\n    containerBook.insertAdjacentHTML('beforeend', markup);\n    return;\n  }\n\n  let markup = renderMarkupTopBooks(data.data);\n  containerBook.insertAdjacentHTML('beforeend', markup);\n}\n\n//якщо помилка, то оброблюємо помилку\nfunction errorfetchData(error) {\n  let markup = renderError(error);\n  containerBook.insertAdjacentHTML('beforeend', markup);\n}\n","//ф-ція для створення розмітки, яка видає топ книг\nexport function renderMarkupTopBooks(array) {\n  const markup = `<ul class=\"content_list_categories\">${array\n    .map((katItem, index) => {\n      return `<li><span>${\n        katItem.list_name\n      }</span><ul class=\"content_list_topBooks\" style=\"display:flex\">${katItem.books\n        .map((book, indexBook) => {\n          let count = countTopBooks(indexBook);\n          return `<li class=\"content_book  ${\n            indexBook >= count ? 'hidden' : ''\n          }\">\n          <a  href=\"${book.book_image}\" >\n          <img class=\"content__image\" src=\"${book.book_image}\" alt=\"${\n            book.title\n          }\" loading=\"lazy\" />\n          </a>\n          <p id=\"content_book_name\">${book.title}</p>\n          <p id=\"content_book_author\">${book.author}</p>\n          </li>`;\n        })\n        .join('')}</ul>\n          <div class=\"content_container_btn\">\n                <button type=\"button\" class=\"content_btnSeeMore\" action=\"submit\">SEE MORE</button>\n       </div>\n       </li>`;\n    })\n    .join('')}</ul>`;\n\n  // const btnSeeMore = document.querySelector('.content_container_btn');\n  // btnSeeMore.addEventListener('submit', handleSumitSeeMore);\n  return markup;\n}\n\nfunction handleSumitSeeMore(e) {\n  e.preventDefault();\n  // далі узнати категорію на яку клацнули\n}\n\n// визначаємо, кількість книг в одній категорії в залежності від розміру екрана\nfunction countTopBooks(index) {\n  if (document.documentElement.clientWidth < 768) {\n    return 1;\n  } else if (\n    document.documentElement.clientWidth > 767 &&\n    document.documentElement.clientWidth < 1440\n  ) {\n    return 3;\n  } else if (document.documentElement.clientWidth > 1439) {\n    return 5;\n  }\n}\n\nexport function renderError(error) {\n  return `<div class=\"content-error\">\n         ERROR\n    </div>`;\n}\n"],"names":["parcelRequire","$1Xv76","$5cf1eb56275d3cb8$export$a32c8f81ca17acee","array","map","katItem","index","list_name","books","book","indexBook","document","documentElement","clientWidth","$5cf1eb56275d3cb8$var$countTopBooks","book_image","title","author","join","$c0508c5db07a4ed5$var$containerBook","querySelector","$c0508c5db07a4ed5$var$renderData","data","length","markup","insertAdjacentHTML","$c0508c5db07a4ed5$var$errorfetchData","error","fetchToAllBooks","then","catch"],"version":3,"file":"index.22197cc6.js.map"}