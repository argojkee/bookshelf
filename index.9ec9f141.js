!function(){var t="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self?self:"undefined"!=typeof window?window:"undefined"!=typeof global?global:{},n={},e={},o=t.parcelRequired7c6;null==o&&((o=function(t){if(t in n)return n[t].exports;if(t in e){var o=e[t];delete e[t];var c={id:t,exports:{}};return n[t]=c,o.call(c.exports,c,c.exports),c.exports}var a=new Error("Cannot find module '"+t+"'");throw a.code="MODULE_NOT_FOUND",a}).register=function(t,n){e[t]=n},t.parcelRequired7c6=o),o("270P2"),o("iRBMQ"),o("aVhnN"),o("i8Q71");var c=o("bBhLo");o("bBhLo"),c=o("bBhLo");function a(){return document.documentElement.clientWidth<768?1:document.documentElement.clientWidth>767&&document.documentElement.clientWidth<1440?3:document.documentElement.clientWidth>1439?5:void 0}var i=a(),r="",l=document.querySelector(".container-books");function s(){l.innerHTML="",(0,c.fetchToAllBooks)().then((function(t){return t.data})).then(d).catch(f)}function u(t,n){(0,c.fetchBooksByCategory)(n).then((function(t){return t.data})).then((function(n){!function(t,n){if(0===n.length)return;document.querySelector(".content_btnSeeMore");var e=function(t){var n=0,e=t.map((function(t,e){if(e>=i&&n<5)return n+=1,'<li id="'.concat(t._id,'"class="content_book">\n                          <a  href="').concat(t.book_image,'" >\n                          <img class="content__image" src="').concat(t.book_image,'" alt="').concat(t.title,'" loading="lazy" />\n                          </a>\n                          <p id="content_book_name">').concat(t.title,'</p>\n                          <p id="content_book_author">').concat(t.author,"</p>\n                </li>")})).join("");return i+=5,e}(n),o=t.previousElementSibling;console.log(o),t.previousElementSibling.insertAdjacentHTML("beforeend",e)}(t,n)})).catch(f)}function d(t){if(l.insertAdjacentHTML("beforeend",""),0!==t.length){var n=' <h1 class="title-container-topBooks">Best sellers <span class="title_blue"> books </span></h1>\n  <ul class="content_list_categories">'.concat(t.map((function(t){return'<li class="content_categoryItem '.concat(t.list_name,'">\n      <span class="content_category">***********').concat(t.list_name,'</span>\n                <ul class="content_list_topBooks">').concat(t.books.map((function(t,n){if(n<a())return'<li data-id="'.concat(t._id,'" class="content_book">\n                          <a  href="').concat(t.book_image,'" >\n                          <img class="content__image" src="').concat(t.book_image,'" alt="').concat(t.title,'" loading="lazy" />\n                          </a>\n                          <p id="content_book_name">').concat(t.title,'</p>\n                          <p id="content_book_author">').concat(t.author,"</p>\n                          </li>")})).join(""),'</ul>\n          \n                <button class="content_btnSeeMore" type="button" name="').concat(t.list_name,'" \n                 action="submit">SEE MORE</button>         \n          </li>')})).join(""),"</ul>");l.insertAdjacentHTML("beforeend",n)}}function f(t){l.insertAdjacentHTML("beforeend",'<div class="content-error">\n         ERROR\n    </div>')}s(),document.querySelector(".container-books").addEventListener("click",(function(t){if(t.preventDefault(),"button"!==t.target.type)return;t.target.name!==r&&(i=a());r=t.target.name,u(t.target,r)}));var m,g={container:document.querySelector(".all-categories-box"),title:document.querySelector(".all-categoris-title"),element:document.querySelector(".all-categoris-element")},_=document.querySelector(".container-books");(0,c.fetchCategoriesList)().then((function(t){var n=t.data,e=n.map((function(t){return'<li class="all-categoris-list">\n      <a class="all-categoris-element" href="" data-name="'.concat(t.list_name,'"\n        >').concat(t.list_name,"</a\n      >\n    </li>\n      ")})).join("");g.container.insertAdjacentHTML("beforeend","".concat(e))})).catch((function(t){console.error("Error:",t)})),g.title.classList.add("current"),g.container.addEventListener("click",(function(){event.preventDefault();var t=event.target;if(!t.classList.contains("all-categoris-element")&&!t.classList.contains("all-categoris-title"))return;var n=t.dataset.name;console.log("Clicked on category: ".concat(n)),e=t,document.querySelectorAll(".all-categoris-list a").forEach((function(t){t.classList.contains("current")&&(m=t)})),void(e!==m&&(e.classList.add("current"),m.classList.remove("current"))),"All categories"===n?s():(o=n,(0,c.fetchBooksByCategory)(o).then((function(t){var n,e,o;console.log("Received data from server:",t.data),_.innerHTML="",n=t.data,e=n.map((function(t,n){return'<li class="content_book" data-id='.concat(t._id,'>\n          <a  href="').concat(t.book_image,'" >\n          <img class="content__image" src="').concat(t.book_image,'" alt="').concat(t.title,'" loading="lazy" />\n          </a>\n          <p id="content_book_name">').concat(t.title,'</p>\n          <p id="content_book_author">').concat(t.author,"</p>\n          </li>")})).join(""),o='<ul class="content_list_topBooks">'.concat(e,"</ul>"),_.insertAdjacentHTML("beforeend",o)})).catch((function(t){console.error("Error:",t)})));var e;var o})),o("kX0OW"),o("9cmFR"),o("gM4a7"),o("iIkkM"),o("7ZZgP")}();
//# sourceMappingURL=index.9ec9f141.js.map
